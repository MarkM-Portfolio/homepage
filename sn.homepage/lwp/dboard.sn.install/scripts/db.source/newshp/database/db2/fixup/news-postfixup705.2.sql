-- ***************************************************************** 
--                                                                   
-- IBM Confidential                                                  
--                                                                   
-- OCO Source Materials                                              
--                                                                   
-- Copyright IBM Corp. 2015, 2016                             
--                                                                   
-- The source code for this program is not published or otherwise    
-- divested of its trade secrets, irrespective of what has been      
-- deposited with the U.S. Copyright Office.                         
--                                                                   
-- ***************************************************************** 

-- {COPYRIGHT}

-- -----------------------------------------------------------------
-- Appregistry v2 new tables
-- -----------------------------------------------------------------

------------ SERVICES ------------
CREATE TABLE HOMEPAGE.APPREG_SERVICES(
	ID VARCHAR(36) NOT NULL,
	NAME VARCHAR(100) NOT NULL,
	TITLE VARCHAR(100),
	ENABLE SMALLINT DEFAULT 0 NOT NULL,
	DESCRIPTION VARCHAR(500),
	TRANSLATIONS VARCHAR(1000),
	SCOPE VARCHAR(12),
	LAST_MODIFIED TIMESTAMP NOT NULL,
	PAYLOAD CLOB(1M)
)
IN NEWS4TABSPACE@

ALTER TABLE HOMEPAGE.APPREG_SERVICES ADD CONSTRAINT PK_SERVICES_ID PRIMARY KEY (ID)@
ALTER TABLE HOMEPAGE.APPREG_SERVICES ADD CONSTRAINT UK_SERVICE_NAME UNIQUE(NAME)@

RUNSTATS ON TABLE HOMEPAGE.APPREG_SERVICES@

------------ PATHS ------------
CREATE TABLE HOMEPAGE.APPREG_PATHS(
	ID VARCHAR(36) NOT NULL,
	NAME VARCHAR(100) NOT NULL
)
IN NEWS4TABSPACE@

ALTER TABLE HOMEPAGE.APPREG_PATHS ADD CONSTRAINT PK_PATHS PRIMARY KEY (ID)@
ALTER TABLE HOMEPAGE.APPREG_PATHS ADD CONSTRAINT UK_PATHS UNIQUE(NAME)@

RUNSTATS ON TABLE HOMEPAGE.APPREG_PATHS@

------------ OBJECTS ------------
CREATE TABLE HOMEPAGE.APPREG_OBJECTS(
	ID VARCHAR(36) NOT NULL,
	NAME VARCHAR(100) NOT NULL
)
IN NEWS4TABSPACE@

ALTER TABLE HOMEPAGE.APPREG_OBJECTS ADD CONSTRAINT PK_OBJECTS PRIMARY KEY (ID)@
ALTER TABLE HOMEPAGE.APPREG_OBJECTS ADD CONSTRAINT UK_OBJECTS UNIQUE(NAME)@

RUNSTATS ON TABLE HOMEPAGE.APPREG_OBJECTS@

------------ EVENTS ------------
CREATE TABLE HOMEPAGE.APPREG_EVENTS(
	ID VARCHAR(36) NOT NULL,
	NAME VARCHAR(100) NOT NULL
)
IN NEWS4TABSPACE@

ALTER TABLE HOMEPAGE.APPREG_EVENTS ADD CONSTRAINT PK_EVENTS PRIMARY KEY (ID)@
ALTER TABLE HOMEPAGE.APPREG_EVENTS ADD CONSTRAINT UK_EVENTS UNIQUE(NAME)@

RUNSTATS ON TABLE HOMEPAGE.APPREG_EVENTS@

------------ RESOURCES ------------
CREATE TABLE HOMEPAGE.APPREG_RESOURCES(
	ID VARCHAR(36) NOT NULL,
	NAME VARCHAR(100) NOT NULL
)
IN NEWS4TABSPACE@

ALTER TABLE HOMEPAGE.APPREG_RESOURCES ADD CONSTRAINT PK_RESOURCES PRIMARY KEY (ID)@
ALTER TABLE HOMEPAGE.APPREG_RESOURCES ADD CONSTRAINT UK_RESOURCES UNIQUE(NAME)@

RUNSTATS ON TABLE HOMEPAGE.APPREG_RESOURCES@

------------ THEMES ------------
CREATE TABLE HOMEPAGE.APPREG_THEMES(
	ID VARCHAR(36) NOT NULL,
	NAME VARCHAR(100) NOT NULL
)
IN NEWS4TABSPACE@

ALTER TABLE HOMEPAGE.APPREG_THEMES ADD CONSTRAINT PK_THEMES PRIMARY KEY (ID)@
ALTER TABLE HOMEPAGE.APPREG_THEMES ADD CONSTRAINT UK_THEMES UNIQUE(NAME)@

RUNSTATS ON TABLE HOMEPAGE.APPREG_THEMES@

------------ SERVICE_PATH ------------
CREATE TABLE HOMEPAGE.APPREG_SERVICE_PATH(
	SERVICE_ID VARCHAR(36) NOT NULL,
	PATH_ID VARCHAR(36) NOT NULL
)
IN NEWS4TABSPACE@

ALTER TABLE HOMEPAGE.APPREG_SERVICE_PATH ADD CONSTRAINT PK_SRVPTH_SERVICE_PATH PRIMARY KEY (SERVICE_ID, PATH_ID)@
ALTER TABLE HOMEPAGE.APPREG_SERVICE_PATH ADD CONSTRAINT FK_SRVPTH_SERVICE_ID FOREIGN KEY (SERVICE_ID) REFERENCES HOMEPAGE.APPREG_SERVICES (ID)@
ALTER TABLE HOMEPAGE.APPREG_SERVICE_PATH ADD CONSTRAINT FK_SRVPTH_PATH_ID FOREIGN KEY (PATH_ID) REFERENCES HOMEPAGE.APPREG_PATHS (ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_SRV_PTH_SRV_ID ON HOMEPAGE.APPREG_SERVICE_PATH (SERVICE_ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_SRV_PTH_PTH_ID ON HOMEPAGE.APPREG_SERVICE_PATH (PATH_ID)@

RUNSTATS ON TABLE HOMEPAGE.APPREG_SERVICE_PATH@

------------ SERVICE_OBJECT ------------
CREATE TABLE HOMEPAGE.APPREG_SERVICE_OBJECT(
	SERVICE_ID VARCHAR(36) NOT NULL,
	OBJECT_ID VARCHAR(36) NOT NULL
)
IN NEWS4TABSPACE@

ALTER TABLE HOMEPAGE.APPREG_SERVICE_OBJECT ADD CONSTRAINT PK_SRVOBJ_SERVICE_OBJECT PRIMARY KEY (SERVICE_ID, OBJECT_ID)@
ALTER TABLE HOMEPAGE.APPREG_SERVICE_OBJECT ADD CONSTRAINT FK_SRVOBJ_SERVICE_ID FOREIGN KEY (SERVICE_ID) REFERENCES HOMEPAGE.APPREG_SERVICES (ID)@
ALTER TABLE HOMEPAGE.APPREG_SERVICE_OBJECT ADD CONSTRAINT FK_SRVOBJ_OBJECT_ID FOREIGN KEY (OBJECT_ID) REFERENCES HOMEPAGE.APPREG_OBJECTS (ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_SRV_OBJ_SRV_ID ON HOMEPAGE.APPREG_SERVICE_OBJECT (SERVICE_ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_SRV_OBJ_OBJ_ID ON HOMEPAGE.APPREG_SERVICE_OBJECT (OBJECT_ID)@

RUNSTATS ON TABLE HOMEPAGE.APPREG_SERVICE_OBJECT@

------------ SERVICE_EVENT ------------
CREATE TABLE HOMEPAGE.APPREG_SERVICE_EVENT(
	SERVICE_ID VARCHAR(36) NOT NULL,
	EVENT_ID VARCHAR(36) NOT NULL
)
IN NEWS4TABSPACE@

ALTER TABLE HOMEPAGE.APPREG_SERVICE_EVENT ADD CONSTRAINT PK_SRVEVN_SERVICE_EVENT PRIMARY KEY (SERVICE_ID, EVENT_ID)@
ALTER TABLE HOMEPAGE.APPREG_SERVICE_EVENT ADD CONSTRAINT FK_SRVEVN_SERVICE_ID FOREIGN KEY (SERVICE_ID) REFERENCES HOMEPAGE.APPREG_SERVICES (ID)@
ALTER TABLE HOMEPAGE.APPREG_SERVICE_EVENT ADD CONSTRAINT FK_SRVEVN_EVENT_ID FOREIGN KEY (EVENT_ID) REFERENCES HOMEPAGE.APPREG_EVENTS (ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_SRV_EVN_SRV_ID ON HOMEPAGE.APPREG_SERVICE_EVENT (SERVICE_ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_SRV_EVN_EVN_ID ON HOMEPAGE.APPREG_SERVICE_EVENT (EVENT_ID)@

RUNSTATS ON TABLE HOMEPAGE.APPREG_SERVICE_EVENT@

------------ SERVICE_RESOURCE ------------
CREATE TABLE HOMEPAGE.APPREG_SERVICE_RESOURCE(
	SERVICE_ID VARCHAR(36) NOT NULL,
	RESOURCE_ID VARCHAR(36) NOT NULL
)
IN NEWS4TABSPACE@

ALTER TABLE HOMEPAGE.APPREG_SERVICE_RESOURCE ADD CONSTRAINT PK_SRVRES_SERVICE_RESOURCE PRIMARY KEY (SERVICE_ID, RESOURCE_ID)@
ALTER TABLE HOMEPAGE.APPREG_SERVICE_RESOURCE ADD CONSTRAINT FK_SRVRES_SERVICE_ID FOREIGN KEY (SERVICE_ID) REFERENCES HOMEPAGE.APPREG_SERVICES (ID)@
ALTER TABLE HOMEPAGE.APPREG_SERVICE_RESOURCE ADD CONSTRAINT FK_SRVRES_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES HOMEPAGE.APPREG_RESOURCES (ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_SRV_RES_SRV_ID ON HOMEPAGE.APPREG_SERVICE_RESOURCE (SERVICE_ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_SRV_RES_RES_ID ON HOMEPAGE.APPREG_SERVICE_RESOURCE (RESOURCE_ID)@

RUNSTATS ON TABLE HOMEPAGE.APPREG_SERVICE_RESOURCE@

------------ SERVICE_THEME ------------
CREATE TABLE HOMEPAGE.APPREG_SERVICE_THEME(
	SERVICE_ID VARCHAR(36) NOT NULL,
	THEME_ID VARCHAR(36) NOT NULL
)
IN NEWS4TABSPACE@

ALTER TABLE HOMEPAGE.APPREG_SERVICE_THEME ADD CONSTRAINT PK_SRVTHM_SERVICE_THEME PRIMARY KEY (SERVICE_ID, THEME_ID)@
ALTER TABLE HOMEPAGE.APPREG_SERVICE_THEME ADD CONSTRAINT FK_SRVTHM_SERVICE_ID FOREIGN KEY (SERVICE_ID) REFERENCES HOMEPAGE.APPREG_SERVICES (ID)@
ALTER TABLE HOMEPAGE.APPREG_SERVICE_THEME ADD CONSTRAINT FK_SRVTHM_THEME_ID FOREIGN KEY (THEME_ID) REFERENCES HOMEPAGE.APPREG_THEMES (ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_SRV_THM_SRV_ID ON HOMEPAGE.APPREG_SERVICE_THEME (SERVICE_ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_SRV_THM_THM_ID ON HOMEPAGE.APPREG_SERVICE_THEME (THEME_ID)@

RUNSTATS ON TABLE HOMEPAGE.APPREG_SERVICE_THEME@

------------ APPLICATIONS ------------
CREATE TABLE HOMEPAGE.APPREG_APPLICATIONS(
	ID VARCHAR(36) NOT NULL,
	NAME VARCHAR(100) NOT NULL,
	TITLE VARCHAR(100),
	APP_ID VARCHAR(100) NOT NULL,
	DESCRIPTION VARCHAR(500),
	TRANSLATIONS VARCHAR(1000),
	URL VARCHAR(512),
	ICON VARCHAR(500),
	SCOPE VARCHAR(12),
	ORGANIZATION_ID VARCHAR(36) NOT NULL,
	LAST_MODIFIED TIMESTAMP NOT NULL,
	PAYLOAD CLOB(1M)
)
IN NEWS4TABSPACE@

ALTER TABLE HOMEPAGE.APPREG_APPLICATIONS ADD CONSTRAINT PK_APPLICATIONS PRIMARY KEY (ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_APP_ORG_ID ON HOMEPAGE.APPREG_APPLICATIONS (ORGANIZATION_ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_APP_ID_ORG_ID ON HOMEPAGE.APPREG_APPLICATIONS (ID, ORGANIZATION_ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_APP_APP_NAME_ORG_ID ON HOMEPAGE.APPREG_APPLICATIONS (NAME, ORGANIZATION_ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_APP_APP_ID_ORG_ID ON HOMEPAGE.APPREG_APPLICATIONS (APP_ID, ORGANIZATION_ID)@

RUNSTATS ON TABLE HOMEPAGE.APPREG_APPLICATIONS@

------------ SERVICE_APPLICATION ------------
CREATE TABLE HOMEPAGE.APPREG_SERVICE_APPLICATION(
	SERVICE_ID VARCHAR(36) NOT NULL,
	APPLICATION_ID VARCHAR(36) NOT NULL
)
IN NEWS4TABSPACE@

ALTER TABLE HOMEPAGE.APPREG_SERVICE_APPLICATION ADD CONSTRAINT PK_SRVAPP_SERVICE_APPLICATION PRIMARY KEY (SERVICE_ID, APPLICATION_ID)@
ALTER TABLE HOMEPAGE.APPREG_SERVICE_APPLICATION ADD CONSTRAINT FK_SRVAPP_SERVICE_ID FOREIGN KEY (SERVICE_ID) REFERENCES HOMEPAGE.APPREG_SERVICES (ID)@
ALTER TABLE HOMEPAGE.APPREG_SERVICE_APPLICATION ADD CONSTRAINT FK_SRVAPP_APPLICATION_ID FOREIGN KEY (APPLICATION_ID) REFERENCES HOMEPAGE.APPREG_APPLICATIONS (ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_SRV_APP_SRV_ID ON HOMEPAGE.APPREG_SERVICE_APPLICATION (SERVICE_ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_SRV_APP_APP_ID ON HOMEPAGE.APPREG_SERVICE_APPLICATION (APPLICATION_ID)@

RUNSTATS ON TABLE HOMEPAGE.APPREG_SERVICE_APPLICATION@

------------ EXTENSIONS ------------
CREATE TABLE HOMEPAGE.APPREG_EXTENSIONS(
	ID VARCHAR(36) NOT NULL,
	NAME VARCHAR(100) NOT NULL,
	TITLE VARCHAR(100),
	EXT_ID VARCHAR(100) NOT NULL,
	TYPE VARCHAR(100) NOT NULL,
	DESCRIPTION VARCHAR(500),
	TRANSLATIONS VARCHAR(1000),
	SCOPE VARCHAR(12),
	LAST_MODIFIED TIMESTAMP NOT NULL,
	PAYLOAD CLOB(1M) NOT NULL
)
IN NEWS4TABSPACE@

ALTER TABLE HOMEPAGE.APPREG_EXTENSIONS ADD CONSTRAINT PK_EXTENSIONS PRIMARY KEY (ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_EXT_EXT_NAME ON HOMEPAGE.APPREG_EXTENSIONS (NAME)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_EXT_EXT_ID ON HOMEPAGE.APPREG_EXTENSIONS (EXT_ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_EXT_EXT_TYPE ON HOMEPAGE.APPREG_EXTENSIONS (TYPE)@

RUNSTATS ON TABLE HOMEPAGE.APPREG_EXTENSIONS@

------------ APPLICATION_EXTENSIONS ------------
CREATE TABLE HOMEPAGE.APPREG_APPLICATION_EXTENSION(
	APPLICATION_ID VARCHAR(36) NOT NULL,
	EXTENSION_ID VARCHAR(36) NOT NULL
)
IN NEWS4TABSPACE@

ALTER TABLE HOMEPAGE.APPREG_APPLICATION_EXTENSION ADD CONSTRAINT PK_APPEXT_APPLICATION_EXTENSION PRIMARY KEY (APPLICATION_ID, EXTENSION_ID)@
ALTER TABLE HOMEPAGE.APPREG_APPLICATION_EXTENSION ADD CONSTRAINT FK_APPEXT_APPLICATION_ID FOREIGN KEY (APPLICATION_ID) REFERENCES HOMEPAGE.APPREG_APPLICATIONS (ID)@
ALTER TABLE HOMEPAGE.APPREG_APPLICATION_EXTENSION ADD CONSTRAINT FK_APPEXT_EXTENSION_ID FOREIGN KEY (EXTENSION_ID) REFERENCES HOMEPAGE.APPREG_EXTENSIONS (ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_APP_EXT_APP_ID ON HOMEPAGE.APPREG_APPLICATION_EXTENSION (APPLICATION_ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_APP_EXT_EXT_ID ON HOMEPAGE.APPREG_APPLICATION_EXTENSION (EXTENSION_ID)@

RUNSTATS ON TABLE HOMEPAGE.APPREG_APPLICATION_EXTENSION@

------------ EXTENSION_PATH ------------
CREATE TABLE HOMEPAGE.APPREG_EXTENSION_PATH(
	EXTENSION_ID VARCHAR(36) NOT NULL,
	PATH_ID VARCHAR(36) NOT NULL
)
IN NEWS4TABSPACE@

ALTER TABLE HOMEPAGE.APPREG_EXTENSION_PATH ADD CONSTRAINT PK_EXTPTH_EXTENSION_PATH PRIMARY KEY (EXTENSION_ID, PATH_ID)@
ALTER TABLE HOMEPAGE.APPREG_EXTENSION_PATH ADD CONSTRAINT UK_EXTPTH_EXTENSION_ID UNIQUE(EXTENSION_ID)@
ALTER TABLE HOMEPAGE.APPREG_EXTENSION_PATH ADD CONSTRAINT FK_EXTPTH_EXTENSION_ID FOREIGN KEY (EXTENSION_ID) REFERENCES HOMEPAGE.APPREG_EXTENSIONS (ID)@
ALTER TABLE HOMEPAGE.APPREG_EXTENSION_PATH ADD CONSTRAINT FK_EXTPTH_PATH_ID FOREIGN KEY (PATH_ID) REFERENCES HOMEPAGE.APPREG_PATHS (ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_EXT_PTH_PTH_ID ON HOMEPAGE.APPREG_EXTENSION_PATH (PATH_ID)@

RUNSTATS ON TABLE HOMEPAGE.APPREG_EXTENSION_PATH@

------------ EXTENSION_OBJECT ------------
CREATE TABLE HOMEPAGE.APPREG_EXTENSION_OBJECT(
	EXTENSION_ID VARCHAR(36) NOT NULL,
	OBJECT_ID VARCHAR(36) NOT NULL
)
IN NEWS4TABSPACE@

ALTER TABLE HOMEPAGE.APPREG_EXTENSION_OBJECT ADD CONSTRAINT PK_EXTOBJ_EXTENSION_OBJECT PRIMARY KEY (EXTENSION_ID, OBJECT_ID)@
ALTER TABLE HOMEPAGE.APPREG_EXTENSION_OBJECT ADD CONSTRAINT UK_EXTOBJ_EXTENSION_ID UNIQUE(EXTENSION_ID)@
ALTER TABLE HOMEPAGE.APPREG_EXTENSION_OBJECT ADD CONSTRAINT FK_EXTOBJ_EXTENSION_ID FOREIGN KEY (EXTENSION_ID) REFERENCES HOMEPAGE.APPREG_EXTENSIONS (ID)@
ALTER TABLE HOMEPAGE.APPREG_EXTENSION_OBJECT ADD CONSTRAINT FK_EXTOBJ_OBJECT_ID FOREIGN KEY (OBJECT_ID) REFERENCES HOMEPAGE.APPREG_OBJECTS (ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_EXT_OBJ_OBJ_ID ON HOMEPAGE.APPREG_EXTENSION_OBJECT (OBJECT_ID)@

RUNSTATS ON TABLE HOMEPAGE.APPREG_EXTENSION_OBJECT@

------------ EXTENSION_EVENT ------------
CREATE TABLE HOMEPAGE.APPREG_EXTENSION_EVENT(
	EXTENSION_ID VARCHAR(36) NOT NULL,
	EVENT_ID VARCHAR(36) NOT NULL
)
IN NEWS4TABSPACE@

ALTER TABLE HOMEPAGE.APPREG_EXTENSION_EVENT ADD CONSTRAINT PK_EXTEVN_EXTENSION_EVENT PRIMARY KEY (EXTENSION_ID, EVENT_ID)@
ALTER TABLE HOMEPAGE.APPREG_EXTENSION_EVENT ADD CONSTRAINT UK_EXTEVN_EXTENSION_ID UNIQUE(EXTENSION_ID)@
ALTER TABLE HOMEPAGE.APPREG_EXTENSION_EVENT ADD CONSTRAINT FK_EXTEVN_EXTENSION_ID FOREIGN KEY (EXTENSION_ID) REFERENCES HOMEPAGE.APPREG_EXTENSIONS (ID)@
ALTER TABLE HOMEPAGE.APPREG_EXTENSION_EVENT ADD CONSTRAINT FK_EXTEVN_EVENT_ID FOREIGN KEY (EVENT_ID) REFERENCES HOMEPAGE.APPREG_EVENTS (ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_EXT_EVN_EVN_ID ON HOMEPAGE.APPREG_EXTENSION_EVENT (EVENT_ID)@

RUNSTATS ON TABLE HOMEPAGE.APPREG_EXTENSION_EVENT@

------------ EXTENSION_RESOURCE ------------
CREATE TABLE HOMEPAGE.APPREG_EXTENSION_RESOURCE(
	EXTENSION_ID VARCHAR(36) NOT NULL,
	RESOURCE_ID VARCHAR(36) NOT NULL
)
IN NEWS4TABSPACE@

ALTER TABLE HOMEPAGE.APPREG_EXTENSION_RESOURCE ADD CONSTRAINT PK_EXTRES_EXTENSION_RESOURCE PRIMARY KEY (EXTENSION_ID, RESOURCE_ID)@
ALTER TABLE HOMEPAGE.APPREG_EXTENSION_RESOURCE ADD CONSTRAINT UK_EXTRES_EXTENSION_ID UNIQUE(EXTENSION_ID)@
ALTER TABLE HOMEPAGE.APPREG_EXTENSION_RESOURCE ADD CONSTRAINT FK_EXTRES_EXTENSION_ID FOREIGN KEY (EXTENSION_ID) REFERENCES HOMEPAGE.APPREG_EXTENSIONS (ID)@
ALTER TABLE HOMEPAGE.APPREG_EXTENSION_RESOURCE ADD CONSTRAINT FK_EXTRES_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES HOMEPAGE.APPREG_RESOURCES (ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_EXT_RES_RES_ID ON HOMEPAGE.APPREG_EXTENSION_RESOURCE (RESOURCE_ID)@

RUNSTATS ON TABLE HOMEPAGE.APPREG_EXTENSION_RESOURCE@

------------ EXTENSION_THEME ------------
CREATE TABLE HOMEPAGE.APPREG_EXTENSION_THEME(
	EXTENSION_ID VARCHAR(36) NOT NULL,
	THEME_ID VARCHAR(36) NOT NULL
)
IN NEWS4TABSPACE@

ALTER TABLE HOMEPAGE.APPREG_EXTENSION_THEME ADD CONSTRAINT PK_EXTTHM_EXTENSION_THEME PRIMARY KEY (EXTENSION_ID, THEME_ID)@
ALTER TABLE HOMEPAGE.APPREG_EXTENSION_THEME ADD CONSTRAINT UK_EXTTHM_EXTENSION_ID UNIQUE(EXTENSION_ID)@
ALTER TABLE HOMEPAGE.APPREG_EXTENSION_THEME ADD CONSTRAINT FK_EXTTHM_EXTENSION_ID FOREIGN KEY (EXTENSION_ID) REFERENCES HOMEPAGE.APPREG_EXTENSIONS (ID)@
ALTER TABLE HOMEPAGE.APPREG_EXTENSION_THEME ADD CONSTRAINT FK_EXTTHM_THEME_ID FOREIGN KEY (THEME_ID) REFERENCES HOMEPAGE.APPREG_THEMES (ID)@
CREATE INDEX HOMEPAGE.UNQ_APPREG_EXT_THM_THM_ID ON HOMEPAGE.APPREG_EXTENSION_THEME (THEME_ID)@

RUNSTATS ON TABLE HOMEPAGE.APPREG_EXTENSION_THEME@