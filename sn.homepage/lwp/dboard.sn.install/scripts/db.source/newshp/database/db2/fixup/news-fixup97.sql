-- ***************************************************************** 
--                                                                   
-- IBM Confidential                                                  
--                                                                   
-- OCO Source Materials                                              
--                                                                   
-- Copyright IBM Corp. 2007, 2015                                    
--                                                                   
-- The source code for this program is not published or otherwise    
-- divested of its trade secrets, irrespective of what has been      
-- deposited with the U.S. Copyright Office.                         
--                                                                   
-- ***************************************************************** 

-- {COPYRIGHT}

-----------------------------------------------------------------------------------------------------------------
--Update "profiles-wall-message" to "profiles-message-wall" in NR_BOARD table in a fixup (BOARD_TYPE column).
-----------------------------------------------------------------------------------------------------------------
UPDATE HOMEPAGE.BOARD SET BOARD_TYPE = 'profiles-message-wall' WHERE BOARD_TYPE = 'profiles-wall-message';
COMMIT;

-----------------------------------------------------------------------------------------------------------------
-- [start] Add an unique constraint on NR_NETWORK table
-----------------------------------------------------------------------------------------------------------------
DELETE FROM HOMEPAGE.NR_NETWORK WHERE NETWORK_ID IN (
	select NR_NETWORK.NETWORK_ID
	from (
		SELECT MAX(NETWORK_ID) NETWORK_ID, PERSON_ID, COLLEAGUE_ID 
		FROM HOMEPAGE.NR_NETWORK
		GROUP BY 	PERSON_ID, COLLEAGUE_ID
		) T,
		 HOMEPAGE.NR_NETWORK NR_NETWORK
	where 	NR_NETWORK.NETWORK_ID < T.NETWORK_ID AND 
			NR_NETWORK.PERSON_ID = T.PERSON_ID AND
			NR_NETWORK.COLLEAGUE_ID = T.COLLEAGUE_ID		
);

COMMIT;

DROP INDEX HOMEPAGE.COLL_PERSON_IDX;
COMMIT;

CREATE UNIQUE INDEX HOMEPAGE.COLL_PERSON_IDX 
	ON HOMEPAGE.NR_NETWORK (COLLEAGUE_ID, PERSON_ID);
COMMIT;

-----------------------------------------------------------------------------------------------------------------
-- [end] Add an unique constraint on NR_NETWORK table
-----------------------------------------------------------------------------------------------------------------

------------------------------------------------------------
-- [start] NEWS dropping existing indexes
------------------------------------------------------------
DROP INDEX HOMEPAGE.NR_AGGREGATED_READERS_IDX;
DROP INDEX HOMEPAGE.NR_AGGREGATED_READERS_STORY_ID;
DROP INDEX HOMEPAGE.NR_AGGREGATED_READERS_ITEM_ID;
DROP INDEX HOMEPAGE.NR_AGGREGATED_READERS_DATE;
DROP INDEX HOMEPAGE.NR_AGG_READERS_UNQ;
DROP INDEX HOMEPAGE.NR_AGG_READERS;
DROP INDEX HOMEPAGE.NR_AGGREGATED_READERS_ROLL;
COMMIT;

DROP INDEX HOMEPAGE.RESPONSES_STORIES_IDX;
DROP INDEX HOMEPAGE.RESPONSES_STORIES_SIDX;
DROP INDEX HOMEPAGE.RESPONSES_STORIES_ITEM_ID;
DROP INDEX HOMEPAGE.NR_RESPONSES_STORIES_DATE;
DROP INDEX HOMEPAGE.NR_RESP_READER_STORY;		
DROP INDEX HOMEPAGE.RESPONSES_STORIES_SRC_IDX;
DROP INDEX HOMEPAGE.NR_RESPONSES_READERS_ROLL;
COMMIT;

DROP INDEX HOMEPAGE.PROFILES_STORIES_IDX;
DROP INDEX HOMEPAGE.PROFILES_STORIES_SIDX;
DROP INDEX HOMEPAGE.PROFILES_STORIES_ITEM_ID;
DROP INDEX HOMEPAGE.NR_NR_PROFILES_STORIES_DATE;
DROP INDEX HOMEPAGE.NR_PRO_READER_STORY;		
DROP INDEX HOMEPAGE.PROFILES_STORIES_SRC_IDX;
DROP INDEX HOMEPAGE.NR_PROFILES_READERS_ROLL;
COMMIT;

DROP INDEX HOMEPAGE.COMMUNITIES_STORIES_IDX;
DROP INDEX HOMEPAGE.COMMUNITIES_STORIES_SIDX;
DROP INDEX HOMEPAGE.COMMUNITIES_STORIES_ITEM_ID;
DROP INDEX HOMEPAGE.NR_NR_COMMUNITIES_STORIES_DATE;
DROP INDEX HOMEPAGE.NR_COM_READER_STORY;		
DROP INDEX HOMEPAGE.COMMUNITIES_STORIES_SRC_IDX; 
DROP INDEX HOMEPAGE.NR_COMMUNITIES_READERS_ROLL;
COMMIT;

DROP INDEX HOMEPAGE.ACTIVITIES_STORIES_IDX;
DROP INDEX HOMEPAGE.ACTIVITIES_STORIES_SIDX;
DROP INDEX HOMEPAGE.ACTIVITIES_STORIES_ITEM_ID;
DROP INDEX HOMEPAGE.NR_ACTIVITIES_STORIES_DATE;
DROP INDEX HOMEPAGE.NR_ACT_READER_STORY;		
DROP INDEX HOMEPAGE.ACTIVITIES_STORIES_SRC_IDX; 
DROP INDEX HOMEPAGE.NR_ACTIVITIES_READERS_ROLL;
COMMIT;

DROP INDEX HOMEPAGE.BLOGS_STORIES_IDX;
DROP INDEX HOMEPAGE.BLOGS_STORIES_SIDX;
DROP INDEX HOMEPAGE.BLOGS_STORIES_ITEM_ID;
DROP INDEX HOMEPAGE.NR_BLOGS_STORIES_DATE;
DROP INDEX HOMEPAGE.NR_BLG_READER_STORY;		
DROP INDEX HOMEPAGE.BLOGS_STORIES_SRC_IDX; 
DROP INDEX HOMEPAGE.NR_BLOGS_READERS_ROLL;
COMMIT;

DROP INDEX HOMEPAGE.BOOKMARKS_STORIES_IDX;
DROP INDEX HOMEPAGE.BOOKMARKS_STORIES_SIDX;
DROP INDEX HOMEPAGE.BOOKMARKS_STORIES_ITEM_ID;
DROP INDEX HOMEPAGE.NR_BOOKMARKS_STORIES_DATE;
DROP INDEX HOMEPAGE.NR_BOOK_READER_STORY;		
DROP INDEX HOMEPAGE.BOOKMARKS_STORIES_SRC_IDX; 
DROP INDEX HOMEPAGE.NR_BOOKMARKS_READERS_ROLL;
COMMIT;

DROP INDEX HOMEPAGE.FILES_STORIES_IDX;
DROP INDEX HOMEPAGE.FILES_STORIES_SIDX;
DROP INDEX HOMEPAGE.FILES_STORIES_ITEM_ID;
DROP INDEX HOMEPAGE.NR_FILES_STORIES_DATE;
DROP INDEX HOMEPAGE.NR_FILES_READER_STORY;	
DROP INDEX HOMEPAGE.FILES_STORIES_SRC_IDX; 
DROP INDEX HOMEPAGE.NR_FILES_READERS_ROLL;
COMMIT;

DROP INDEX HOMEPAGE.FORUMS_STORIES_IDX;
DROP INDEX HOMEPAGE.FORUMS_STORIES_SIDX;
DROP INDEX HOMEPAGE.FORUMS_STORIES_ITEM_ID;
DROP INDEX HOMEPAGE.NR_FORUMS_STORIES_DATE;
DROP INDEX HOMEPAGE.NR_FORUMS_READER_STORY;	
DROP INDEX HOMEPAGE.FORUMS_STORIES_SRC_IDX; 
DROP INDEX HOMEPAGE.NR_FORUMS_READERS_ROLL;
COMMIT;

DROP INDEX HOMEPAGE.WIKIS_STORIES_IDX;
DROP INDEX HOMEPAGE.WIKIS_STORIES_SIDX;
DROP INDEX HOMEPAGE.WIKIS_STORIES_ITEM_ID;
DROP INDEX HOMEPAGE.NR_WIKIS_STORIES_DATE;
DROP INDEX HOMEPAGE.NR_WIKIS_READER_STORY;	
DROP INDEX HOMEPAGE.WIKIS_STORIES_SRC_IDX; 
DROP INDEX HOMEPAGE.NR_WIKIS_READERS_ROLL;
COMMIT;

DROP INDEX HOMEPAGE.TAGS_STORIES_IDX;
DROP INDEX HOMEPAGE.TAGS_STORIES_SIDX;
DROP INDEX HOMEPAGE.TAGS_STORIES_ITEM_ID;
DROP INDEX HOMEPAGE.NR_TAGS_STORIES_DATE;
DROP INDEX HOMEPAGE.NR_TAGS_READER_STORY;		
DROP INDEX HOMEPAGE.TAGS_STORIES_SRC_IDX; 
DROP INDEX HOMEPAGE.NR_TAGS_READERS_ROLL;
COMMIT;

DROP INDEX HOMEPAGE.SU_STORIES_IDX;
DROP INDEX HOMEPAGE.SU_STORIES_SIDX;
DROP INDEX HOMEPAGE.SU_STORIES_ITEM_ID;
DROP INDEX HOMEPAGE.SU_STORIES_READER_STORY;
DROP INDEX HOMEPAGE.SU_STORIES_SRC_IDX; 
DROP INDEX HOMEPAGE.NR_STATUS_UPDATE_READERS_ROLL;
COMMIT;

DROP INDEX HOMEPAGE.EXT_STORIES_IDX;
DROP INDEX HOMEPAGE.EXT_STORIES_SIDX;
DROP INDEX HOMEPAGE.EXT_STORIES_ITEM_ID;
DROP INDEX HOMEPAGE.EXT_STORIES_READER_STORY;
DROP INDEX HOMEPAGE.EXT_STORIES_SRC_IDX;
DROP INDEX HOMEPAGE.NR_EXTERNAL_READERS_ROLL;
COMMIT;

DROP INDEX HOMEPAGE.ACTION_READER_STORIES_IDX;
DROP INDEX HOMEPAGE.ACTION_READER_SIDX;
DROP INDEX HOMEPAGE.ACTION_READER_ITEM_ID;
DROP INDEX HOMEPAGE.ACTION_READER_STORY;
DROP INDEX HOMEPAGE.ACTION_STORIES_SRC_IDX;
DROP INDEX HOMEPAGE.NR_ACTIONABLE_READERS_ROLL;
COMMIT;

DROP INDEX HOMEPAGE.DISCOVERY_STORIES_IDX;
DROP INDEX HOMEPAGE.DISCOVERY_SIDX;
DROP INDEX HOMEPAGE.DISCOVERY_ITEM;
DROP INDEX HOMEPAGE.DISCOVERY_STORIES_DATE;
DROP INDEX HOMEPAGE.DISCOVERY_READER_STORY;		
DROP INDEX HOMEPAGE.DISCOVERY_STORIES_SRC_IDX;
DROP INDEX HOMEPAGE.DISCOVERY_STORIES_COM_IDX;
DROP INDEX HOMEPAGE.NR_DISCOVERY_VIEW_ROLL; 
COMMIT;

DROP INDEX HOMEPAGE.PROFILES_VIEW_IDX;
DROP INDEX HOMEPAGE.PROFILES_SIDX;
DROP INDEX HOMEPAGE.PROFILES_ITEM;
DROP INDEX HOMEPAGE.PROFILES_STORIES_DATE;
DROP INDEX HOMEPAGE.PROFILES_READER_STORY;		
DROP INDEX HOMEPAGE.NR_PROFILES_VIEW_ROLL; 
COMMIT;

DROP INDEX HOMEPAGE.NOT_SENT_STORIES_IDX;
DROP INDEX HOMEPAGE.NOT_SENT_STORIES_SIDX;
DROP INDEX HOMEPAGE.NOT_SENT_STORIES_ITEM_ID;
DROP INDEX HOMEPAGE.NOT_SENT_STORIES_DATE;
DROP INDEX HOMEPAGE.NR_NOT_SENT_READER_STORY;		
DROP INDEX HOMEPAGE.NOT_SENT_STORIES_SRC_IDX;
DROP INDEX HOMEPAGE.NOT_SENT_ROLL;
COMMIT;

DROP INDEX HOMEPAGE.SAVED_READERS_STORIES_IDX;
DROP INDEX HOMEPAGE.SAVED_READERS_SIDX;
DROP INDEX HOMEPAGE.SAVED_READERS_ITEM_ID;
DROP INDEX HOMEPAGE.SAVED_READERS_STORY;
DROP INDEX HOMEPAGE.SAVED_READERS_IDX;
DROP INDEX HOMEPAGE.SAVED_READERS_ROLL;
COMMIT;

------------------------------------------------------------
-- [end] NEWS dropping existing indexes
------------------------------------------------------------


------------------------------------------------------------
-- [start] NEWS replacing existing indexes
------------------------------------------------------------


--  [start indexes] NR_AGGREGATED_READERS
CREATE  INDEX HOMEPAGE.AGGREGATED_READERS_STR_IX 
 	ON HOMEPAGE.NR_AGGREGATED_READERS (STORY_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.AGGREGATED_READERS_ITM_IX 
 	ON HOMEPAGE.NR_AGGREGATED_READERS (ITEM_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.AGGREGATED_READERS_CD_IX 
 	ON HOMEPAGE.NR_AGGREGATED_READERS (STORY_ID, CREATION_DATE DESC); 
COMMIT;

CREATE  INDEX HOMEPAGE.AGGREGATED_READERS_SRC_IX 
 	ON HOMEPAGE.NR_AGGREGATED_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.AGGREGATED_READERS_ACT_IX 
 	ON HOMEPAGE.NR_AGGREGATED_READERS (READER_ID, CREATION_DATE DESC, ACTOR_UUID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.AGGREGATED_READERS_RLL_IX 
 	ON HOMEPAGE.NR_AGGREGATED_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE UNIQUE INDEX HOMEPAGE.AGGREGATED_READERS_UNQ_RDR_STR 
 	ON HOMEPAGE.NR_AGGREGATED_READERS (READER_ID, STORY_ID); 
COMMIT;

--  [end indexes] NR_AGGREGATED_READERS

--  [start indexes] NR_RESPONSES_READERS
CREATE  INDEX HOMEPAGE.RESPONSES_READERS_STR_IX 
 	ON HOMEPAGE.NR_RESPONSES_READERS (STORY_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.RESPONSES_READERS_ITM_IX 
 	ON HOMEPAGE.NR_RESPONSES_READERS (ITEM_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.RESPONSES_READERS_CD_IX 
 	ON HOMEPAGE.NR_RESPONSES_READERS (STORY_ID, CREATION_DATE DESC); 
COMMIT;

CREATE  INDEX HOMEPAGE.RESPONSES_READERS_SRC_IX 
 	ON HOMEPAGE.NR_RESPONSES_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.RESPONSES_READERS_ACT_IX 
 	ON HOMEPAGE.NR_RESPONSES_READERS (READER_ID, CREATION_DATE DESC, ACTOR_UUID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.RESPONSES_READERS_RLL_IX 
 	ON HOMEPAGE.NR_RESPONSES_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE UNIQUE INDEX HOMEPAGE.RESPONSES_READERS_UNQ_RDR_STR 
 	ON HOMEPAGE.NR_RESPONSES_READERS (READER_ID, STORY_ID); 
COMMIT;

--  [end indexes] NR_RESPONSES_READERS

--  [start indexes] NR_PROFILES_READERS
CREATE  INDEX HOMEPAGE.PROFILES_READERS_STR_IX 
 	ON HOMEPAGE.NR_PROFILES_READERS (STORY_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.PROFILES_READERS_ITM_IX 
 	ON HOMEPAGE.NR_PROFILES_READERS (ITEM_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.PROFILES_READERS_CD_IX 
 	ON HOMEPAGE.NR_PROFILES_READERS (STORY_ID, CREATION_DATE DESC); 
COMMIT;

CREATE  INDEX HOMEPAGE.PROFILES_READERS_SRC_IX 
 	ON HOMEPAGE.NR_PROFILES_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.PROFILES_READERS_ACT_IX 
 	ON HOMEPAGE.NR_PROFILES_READERS (READER_ID, CREATION_DATE DESC, ACTOR_UUID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.PROFILES_READERS_RLL_IX 
 	ON HOMEPAGE.NR_PROFILES_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE UNIQUE INDEX HOMEPAGE.PROFILES_READERS_UNQ_RDR_STR 
 	ON HOMEPAGE.NR_PROFILES_READERS (READER_ID, STORY_ID); 
COMMIT;

--  [end indexes] NR_PROFILES_READERS

--  [start indexes] NR_COMMUNITIES_READERS
CREATE  INDEX HOMEPAGE.COMM_READERS_STR_IX 
 	ON HOMEPAGE.NR_COMMUNITIES_READERS (STORY_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.COMM_READERS_ITM_IX 
 	ON HOMEPAGE.NR_COMMUNITIES_READERS (ITEM_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.COMM_READERS_CD_IX 
 	ON HOMEPAGE.NR_COMMUNITIES_READERS (STORY_ID, CREATION_DATE DESC); 
COMMIT;

CREATE  INDEX HOMEPAGE.COMM_READERS_SRC_IX 
 	ON HOMEPAGE.NR_COMMUNITIES_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.COMM_READERS_ACT_IX 
 	ON HOMEPAGE.NR_COMMUNITIES_READERS (READER_ID, CREATION_DATE DESC, ACTOR_UUID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.COMM_READERS_RLL_IX 
 	ON HOMEPAGE.NR_COMMUNITIES_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE UNIQUE INDEX HOMEPAGE.COMM_READERS_UNQ_RDR_STR 
 	ON HOMEPAGE.NR_COMMUNITIES_READERS (READER_ID, STORY_ID); 
COMMIT;

--  [end indexes] NR_COMMUNITIES_READERS

--  [start indexes] NR_ACTIVITIES_READERS
CREATE  INDEX HOMEPAGE.ACTIVITIES_READERS_STR_IX 
 	ON HOMEPAGE.NR_ACTIVITIES_READERS (STORY_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.ACTIVITIES_READERS_ITM_IX 
 	ON HOMEPAGE.NR_ACTIVITIES_READERS (ITEM_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.ACTIVITIES_READERS_CD_IX 
 	ON HOMEPAGE.NR_ACTIVITIES_READERS (STORY_ID, CREATION_DATE DESC); 
COMMIT;

CREATE  INDEX HOMEPAGE.ACTIVITIES_READERS_SRC_IX 
 	ON HOMEPAGE.NR_ACTIVITIES_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.ACTIVITIES_READERS_ACT_IX 
 	ON HOMEPAGE.NR_ACTIVITIES_READERS (READER_ID, CREATION_DATE DESC, ACTOR_UUID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.ACTIVITIES_READERS_RLL_IX 
 	ON HOMEPAGE.NR_ACTIVITIES_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE UNIQUE INDEX HOMEPAGE.ACTIVITIES_READERS_UNQ_RDR_STR 
 	ON HOMEPAGE.NR_ACTIVITIES_READERS (READER_ID, STORY_ID); 
COMMIT;

--  [end indexes] NR_ACTIVITIES_READERS

--  [start indexes] NR_BLOGS_READERS
CREATE  INDEX HOMEPAGE.BLOGS_READERS_STR_IX 
 	ON HOMEPAGE.NR_BLOGS_READERS (STORY_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.BLOGS_READERS_ITM_IX 
 	ON HOMEPAGE.NR_BLOGS_READERS (ITEM_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.BLOGS_READERS_CD_IX 
 	ON HOMEPAGE.NR_BLOGS_READERS (STORY_ID, CREATION_DATE DESC); 
COMMIT;

CREATE  INDEX HOMEPAGE.BLOGS_READERS_SRC_IX 
 	ON HOMEPAGE.NR_BLOGS_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.BLOGS_READERS_ACT_IX 
 	ON HOMEPAGE.NR_BLOGS_READERS (READER_ID, CREATION_DATE DESC, ACTOR_UUID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.BLOGS_READERS_RLL_IX 
 	ON HOMEPAGE.NR_BLOGS_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE UNIQUE INDEX HOMEPAGE.BLOGS_READERS_UNQ_RDR_STR 
 	ON HOMEPAGE.NR_BLOGS_READERS (READER_ID, STORY_ID); 
COMMIT;

--  [end indexes] NR_BLOGS_READERS

--  [start indexes] NR_BOOKMARKS_READERS
CREATE  INDEX HOMEPAGE.BOOKMARKS_READERS_STR_IX 
 	ON HOMEPAGE.NR_BOOKMARKS_READERS (STORY_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.BOOKMARKS_READERS_ITM_IX 
 	ON HOMEPAGE.NR_BOOKMARKS_READERS (ITEM_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.BOOKMARKS_READERS_CD_IX 
 	ON HOMEPAGE.NR_BOOKMARKS_READERS (STORY_ID, CREATION_DATE DESC); 
COMMIT;

CREATE  INDEX HOMEPAGE.BOOKMARKS_READERS_SRC_IX 
 	ON HOMEPAGE.NR_BOOKMARKS_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.BOOKMARKS_READERS_ACT_IX 
 	ON HOMEPAGE.NR_BOOKMARKS_READERS (READER_ID, CREATION_DATE DESC, ACTOR_UUID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.BOOKMARKS_READERS_RLL_IX 
 	ON HOMEPAGE.NR_BOOKMARKS_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE UNIQUE INDEX HOMEPAGE.BOOKMARKS_READERS_UNQ_RDR_STR 
 	ON HOMEPAGE.NR_BOOKMARKS_READERS (READER_ID, STORY_ID); 
COMMIT;

--  [end indexes] NR_BOOKMARKS_READERS

--  [start indexes] NR_FILES_READERS
CREATE  INDEX HOMEPAGE.FILES_READERS_STR_IX 
 	ON HOMEPAGE.NR_FILES_READERS (STORY_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.FILES_READERS_ITM_IX 
 	ON HOMEPAGE.NR_FILES_READERS (ITEM_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.FILES_READERS_CD_IX 
 	ON HOMEPAGE.NR_FILES_READERS (STORY_ID, CREATION_DATE DESC); 
COMMIT;

CREATE  INDEX HOMEPAGE.FILES_READERS_SRC_IX 
 	ON HOMEPAGE.NR_FILES_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.FILES_READERS_ACT_IX 
 	ON HOMEPAGE.NR_FILES_READERS (READER_ID, CREATION_DATE DESC, ACTOR_UUID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.FILES_READERS_RLL_IX 
 	ON HOMEPAGE.NR_FILES_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE UNIQUE INDEX HOMEPAGE.FILES_READERS_UNQ_RDR_STR 
 	ON HOMEPAGE.NR_FILES_READERS (READER_ID, STORY_ID); 
COMMIT;

--  [end indexes] NR_FILES_READERS

--  [start indexes] NR_FORUMS_READERS
CREATE  INDEX HOMEPAGE.FORUMS_READERS_STR_IX 
 	ON HOMEPAGE.NR_FORUMS_READERS (STORY_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.FORUMS_READERS_ITM_IX 
 	ON HOMEPAGE.NR_FORUMS_READERS (ITEM_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.FORUMS_READERS_CD_IX 
 	ON HOMEPAGE.NR_FORUMS_READERS (STORY_ID, CREATION_DATE DESC); 
COMMIT;

CREATE  INDEX HOMEPAGE.FORUMS_READERS_SRC_IX 
 	ON HOMEPAGE.NR_FORUMS_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.FORUMS_READERS_ACT_IX 
 	ON HOMEPAGE.NR_FORUMS_READERS (READER_ID, CREATION_DATE DESC, ACTOR_UUID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.FORUMS_READERS_RLL_IX 
 	ON HOMEPAGE.NR_FORUMS_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE UNIQUE INDEX HOMEPAGE.FORUMS_READERS_UNQ_RDR_STR 
 	ON HOMEPAGE.NR_FORUMS_READERS (READER_ID, STORY_ID); 
COMMIT;

--  [end indexes] NR_FORUMS_READERS

--  [start indexes] NR_WIKIS_READERS
CREATE  INDEX HOMEPAGE.WIKIS_READERS_STR_IX 
 	ON HOMEPAGE.NR_WIKIS_READERS (STORY_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.WIKIS_READERS_ITM_IX 
 	ON HOMEPAGE.NR_WIKIS_READERS (ITEM_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.WIKIS_READERS_CD_IX 
 	ON HOMEPAGE.NR_WIKIS_READERS (STORY_ID, CREATION_DATE DESC); 
COMMIT;

CREATE  INDEX HOMEPAGE.WIKIS_READERS_SRC_IX 
 	ON HOMEPAGE.NR_WIKIS_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.WIKIS_READERS_ACT_IX 
 	ON HOMEPAGE.NR_WIKIS_READERS (READER_ID, CREATION_DATE DESC, ACTOR_UUID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.WIKIS_READERS_RLL_IX 
 	ON HOMEPAGE.NR_WIKIS_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE UNIQUE INDEX HOMEPAGE.WIKIS_READERS_UNQ_RDR_STR 
 	ON HOMEPAGE.NR_WIKIS_READERS (READER_ID, STORY_ID); 
COMMIT;

--  [end indexes] NR_WIKIS_READERS

--  [start indexes] NR_TAGS_READERS
CREATE  INDEX HOMEPAGE.TAGS_READERS_STR_IX 
 	ON HOMEPAGE.NR_TAGS_READERS (STORY_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.TAGS_READERS_ITM_IX 
 	ON HOMEPAGE.NR_TAGS_READERS (ITEM_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.TAGS_READERS_CD_IX 
 	ON HOMEPAGE.NR_TAGS_READERS (STORY_ID, CREATION_DATE DESC); 
COMMIT;

CREATE  INDEX HOMEPAGE.TAGS_READERS_SRC_IX 
 	ON HOMEPAGE.NR_TAGS_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.TAGS_READERS_ACT_IX 
 	ON HOMEPAGE.NR_TAGS_READERS (READER_ID, CREATION_DATE DESC, ACTOR_UUID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.TAGS_READERS_RLL_IX 
 	ON HOMEPAGE.NR_TAGS_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE INDEX HOMEPAGE.TAGS_READERS_RDR_STR 
 	ON HOMEPAGE.NR_TAGS_READERS (READER_ID, STORY_ID); 
COMMIT;

--  [end indexes] NR_TAGS_READERS

--  [start indexes] NR_STATUS_UPDATE_READERS
CREATE  INDEX HOMEPAGE.STATUS_READERS_STR_IX 
 	ON HOMEPAGE.NR_STATUS_UPDATE_READERS (STORY_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.STATUS_READERS_ITM_IX 
 	ON HOMEPAGE.NR_STATUS_UPDATE_READERS (ITEM_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.STATUS_READERS_CD_IX 
 	ON HOMEPAGE.NR_STATUS_UPDATE_READERS (STORY_ID, CREATION_DATE DESC); 
COMMIT;

CREATE  INDEX HOMEPAGE.STATUS_READERS_SRC_IX 
 	ON HOMEPAGE.NR_STATUS_UPDATE_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.STATUS_READERS_ACT_IX 
 	ON HOMEPAGE.NR_STATUS_UPDATE_READERS (READER_ID, CREATION_DATE DESC, ACTOR_UUID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.STATUS_READERS_RLL_IX 
 	ON HOMEPAGE.NR_STATUS_UPDATE_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE UNIQUE INDEX HOMEPAGE.STATUS_READERS_UNQ_RDR_STR 
 	ON HOMEPAGE.NR_STATUS_UPDATE_READERS (READER_ID, STORY_ID); 
COMMIT;

--  [end indexes] NR_STATUS_UPDATE_READERS

--  [start indexes] NR_EXTERNAL_READERS
CREATE  INDEX HOMEPAGE.EXTERNAL_READERS_STR_IX 
 	ON HOMEPAGE.NR_EXTERNAL_READERS (STORY_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.EXTERNAL_READERS_ITM_IX 
 	ON HOMEPAGE.NR_EXTERNAL_READERS (ITEM_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.EXTERNAL_READERS_CD_IX 
 	ON HOMEPAGE.NR_EXTERNAL_READERS (STORY_ID, CREATION_DATE DESC); 
COMMIT;

CREATE  INDEX HOMEPAGE.EXTERNAL_READERS_SRC_IX 
 	ON HOMEPAGE.NR_EXTERNAL_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.EXTERNAL_READERS_ACT_IX 
 	ON HOMEPAGE.NR_EXTERNAL_READERS (READER_ID, CREATION_DATE DESC, ACTOR_UUID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.EXTERNAL_READERS_RLL_IX 
 	ON HOMEPAGE.NR_EXTERNAL_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE UNIQUE INDEX HOMEPAGE.EXTERNAL_READERS_UNQ_RDR_STR 
 	ON HOMEPAGE.NR_EXTERNAL_READERS (READER_ID, STORY_ID); 
COMMIT;

--  [end indexes] NR_EXTERNAL_READERS

--  [start indexes] NR_ACTIONABLE_READERS
CREATE  INDEX HOMEPAGE.ACTIONABLE_READERS_STR_IX 
 	ON HOMEPAGE.NR_ACTIONABLE_READERS (STORY_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.ACTIONABLE_READERS_ITM_IX 
 	ON HOMEPAGE.NR_ACTIONABLE_READERS (ITEM_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.ACTIONABLE_READERS_CD_IX 
 	ON HOMEPAGE.NR_ACTIONABLE_READERS (STORY_ID, CREATION_DATE DESC); 
COMMIT;

CREATE  INDEX HOMEPAGE.ACTIONABLE_READERS_SRC_IX 
 	ON HOMEPAGE.NR_ACTIONABLE_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.ACTIONABLE_READERS_ACT_IX 
 	ON HOMEPAGE.NR_ACTIONABLE_READERS (READER_ID, CREATION_DATE DESC, ACTOR_UUID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.ACTIONABLE_READERS_RLL_IX 
 	ON HOMEPAGE.NR_ACTIONABLE_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE UNIQUE INDEX HOMEPAGE.ACTIONABLE_READERS_UNQ_RDR_STR 
 	ON HOMEPAGE.NR_ACTIONABLE_READERS (READER_ID, STORY_ID); 
COMMIT;

--  [end indexes] NR_ACTIONABLE_READERS

--  [start indexes] NR_DISCOVERY_VIEW
CREATE  INDEX HOMEPAGE.DISCOVERY_VIEW_STR_IX 
 	ON HOMEPAGE.NR_DISCOVERY_VIEW (STORY_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.DISCOVERY_VIEW_ITM_IX 
 	ON HOMEPAGE.NR_DISCOVERY_VIEW (ITEM_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.DISCOVERY_VIEW_CD_IX 
 	ON HOMEPAGE.NR_DISCOVERY_VIEW (STORY_ID, CREATION_DATE DESC); 
COMMIT;

CREATE  INDEX HOMEPAGE.DISCOVERY_VIEW_SRC_IX 
 	ON HOMEPAGE.NR_DISCOVERY_VIEW (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.DISCOVERY_VIEW_ACT_IX 
 	ON HOMEPAGE.NR_DISCOVERY_VIEW (READER_ID, CREATION_DATE DESC, ACTOR_UUID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.DISCOVERY_VIEW_RLL_IX 
 	ON HOMEPAGE.NR_DISCOVERY_VIEW (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE UNIQUE INDEX HOMEPAGE.DISCOVERY_VIEW_UNQ_RDR_STR 
 	ON HOMEPAGE.NR_DISCOVERY_VIEW (READER_ID, STORY_ID); 
COMMIT;

--  [end indexes] NR_DISCOVERY_VIEW

--  [start indexes] NR_PROFILES_VIEW
CREATE  INDEX HOMEPAGE.PROFILES_VIEW_STR_IX 
 	ON HOMEPAGE.NR_PROFILES_VIEW (STORY_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.PROFILES_VIEW_ITM_IX 
 	ON HOMEPAGE.NR_PROFILES_VIEW (ITEM_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.PROFILES_VIEW_CD_IX 
 	ON HOMEPAGE.NR_PROFILES_VIEW (STORY_ID, CREATION_DATE DESC); 
COMMIT;

CREATE  INDEX HOMEPAGE.PROFILES_VIEW_SRC_IX 
 	ON HOMEPAGE.NR_PROFILES_VIEW (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.PROFILES_VIEW_ACT_IX 
 	ON HOMEPAGE.NR_PROFILES_VIEW (READER_ID, CREATION_DATE DESC, ACTOR_UUID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.PROFILES_VIEW_RLL_IX 
 	ON HOMEPAGE.NR_PROFILES_VIEW (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE UNIQUE INDEX HOMEPAGE.PROFILES_VIEW_UNQ_RDR_STR 
 	ON HOMEPAGE.NR_PROFILES_VIEW (READER_ID, STORY_ID); 
COMMIT;

--  [end indexes] NR_PROFILES_VIEW

--  [start indexes] NR_NOTIFICATION_SENT_READERS
CREATE  INDEX HOMEPAGE.NOTIFICA_READERS_STR_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_SENT_READERS (STORY_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.NOTIFICA_READERS_ITM_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_SENT_READERS (ITEM_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.NOTIFICA_READERS_CD_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_SENT_READERS (STORY_ID, CREATION_DATE DESC); 
COMMIT;

CREATE  INDEX HOMEPAGE.NOTIFICA_READERS_SRC_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_SENT_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.NOTIFICA_READERS_ACT_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_SENT_READERS (READER_ID, CREATION_DATE DESC, ACTOR_UUID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.NOTIFICA_READERS_RLL_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_SENT_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE UNIQUE INDEX HOMEPAGE.NOTIFICA_READERS_UNQ_RDR_STR 
 	ON HOMEPAGE.NR_NOTIFICATION_SENT_READERS (READER_ID, STORY_ID); 
COMMIT;

--  [end indexes] NR_NOTIFICATION_SENT_READERS

--  [start indexes] NR_SAVED_READERS
CREATE  INDEX HOMEPAGE.SAVED_READERS_STR_IX 
 	ON HOMEPAGE.NR_SAVED_READERS (STORY_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.SAVED_READERS_ITM_IX 
 	ON HOMEPAGE.NR_SAVED_READERS (ITEM_ID); 
COMMIT;

CREATE  INDEX HOMEPAGE.SAVED_READERS_CD_IX 
 	ON HOMEPAGE.NR_SAVED_READERS (STORY_ID, CREATION_DATE DESC); 
COMMIT;

CREATE  INDEX HOMEPAGE.SAVED_READERS_SRC_IX 
 	ON HOMEPAGE.NR_SAVED_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.SAVED_READERS_ACT_IX 
 	ON HOMEPAGE.NR_SAVED_READERS (READER_ID, CREATION_DATE DESC, ACTOR_UUID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE  INDEX HOMEPAGE.SAVED_READERS_RLL_IX 
 	ON HOMEPAGE.NR_SAVED_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE); 
COMMIT;

CREATE UNIQUE INDEX HOMEPAGE.SAVED_READERS_UNQ_RDR_STR 
 	ON HOMEPAGE.NR_SAVED_READERS (READER_ID, STORY_ID); 
COMMIT;

--  [end indexes] NR_SAVED_READERS

------------------------------------------------------------
-- [end] NEWS replacing existing indexes
------------------------------------------------------------


----------------------------------------------------------------
-- HOMEPAGE.NR_ENTRIES
----------------------------------------------------------------
CREATE TABLE HOMEPAGE.NR_ENTRIES (
	ENTRY_ID VARCHAR(36) NOT NULL,
	SOURCE VARCHAR(36) NOT NULL,
	SOURCE_TYPE SMALLINT,
	CONTAINER_ID VARCHAR(256),
	CONTAINER_NAME VARCHAR(256),
	CONTAINER_URL VARCHAR(2048),
	ITEM_ID VARCHAR(36),
	ITEM_NAME VARCHAR(256),
	ITEM_URL VARCHAR(2048),
	ITEM_CREATION_DATE TIMESTAMP,
	ITEM_UPDATE_DATE TIMESTAMP,
	ITEM_TAGS VARCHAR(1024),
	N_COMMENTS SMALLINT DEFAULT 0 NOT NULL,
	N_RECOMMANDATIONS SMALLINT DEFAULT 0 NOT NULL,
	LAST_COMMENT_ID VARCHAR(36),
	LAST_DATE_COMMENT TIMESTAMP,
	LAST_AUTHOR_COMMENT VARCHAR(36),
	PREV_COMMENT_ID VARCHAR(36),
	PREV_DATE_COMMENT TIMESTAMP,
	PREV_AUTHOR_COMMENT VARCHAR(36),
	TARGET_SUBJECT_ID VARCHAR(36),
	ITEM_ATOM_URL VARCHAR(2048),
	PREVIEW_IMAGE_URL VARCHAR(2048),
	JSON_META_DATA VARCHAR(4000),
	ITEM_SCOPE SMALLINT,
	IS_LAST_COMMENT_PUBLIC SMALLINT,
	IS_PREV_COMMENT_PUBLIC SMALLINT,
	ITEM_CORRELATION_ID VARCHAR(36),
	ITEM_CORRELATION_NAME VARCHAR(256),
	LAST_DESC_COMMENT VARCHAR(4000),
	PREV_DESC_COMMENT VARCHAR(4000),
	LAST_UPDATE_DATE_COMMENT TIMESTAMP,
	PREV_UPDATE_DATE_COMMENT TIMESTAMP,
	ITEM_AUTHOR_UUID VARCHAR (36),
	ITEM_AUTHOR_DISPLAYNAME VARCHAR (256),
	ITEM_CORRELATION_AUTHOR_UUID VARCHAR (36),
	ITEM_CORRELATION_AUTHOR_NAME VARCHAR (256),
	BRIEF_DESC VARCHAR (4000)
)
IN NEWS32TABSPACE;

ALTER TABLE HOMEPAGE.NR_ENTRIES
    ADD CONSTRAINT PK_ENTRY_ID PRIMARY KEY(ENTRY_ID);

CREATE INDEX HOMEPAGE.NR_ENTRIES_CONT
    ON HOMEPAGE.NR_ENTRIES (CONTAINER_ID);

CREATE UNIQUE INDEX HOMEPAGE.NR_ENTRIES_ITEM
    ON HOMEPAGE.NR_ENTRIES (ITEM_ID);

COMMIT;

----------------------------------------------------------------
-- HOMEPAGE.NR_STORIES
----------------------------------------------------------------
CREATE TABLE HOMEPAGE.NR_STORIES (
	STORY_ID VARCHAR(36) NOT NULL,
	EVENT_NAME VARCHAR(256) NOT NULL,
	SOURCE VARCHAR(36),
	CONTAINER_ID VARCHAR(256),	
	CONTAINER_NAME VARCHAR(256),
	CONTAINER_URL VARCHAR(2048),
	ITEM_NAME VARCHAR(256),
	ITEM_URL VARCHAR(2048),
	ITEM_ATOM_URL VARCHAR(2048),
	ITEM_ID VARCHAR(36),
	ITEM_CORRELATION_ID VARCHAR(36),
	ITEM_TAGS VARCHAR(1024),
	CREATION_DATE TIMESTAMP NOT NULL,
	BRIEF_DESC VARCHAR(4000),
	ACTOR_UUID VARCHAR(36),
	EVENT_RECORD_UUID VARCHAR(36) NOT NULL,
	TAGS VARCHAR(1024),
	META_TEMPLATE VARCHAR(3328) DEFAULT '' NOT NULL,
	TEXT_META_TEMPLATE VARCHAR(1024),
	R_META_TEMPLATE VARCHAR(3328),
	R_TEXT_META_TEMPLATE VARCHAR(1024),
	IS_COMMUNITY_STORY SMALLINT DEFAULT 0,
	ITEM_CORRELATION_NAME VARCHAR(256),
	HAS_ATTACHMENT SMALLINT DEFAULT 0,
	SOURCE_TYPE SMALLINT,
	ENTRY_ID VARCHAR(36),
	EVENT_TIME TIMESTAMP,
	VERB VARCHAR (128),
	ACTIVITY_META_DATA_1 VARCHAR(3584) for bit data,
	ACTIVITY_META_DATA_2 VARCHAR(3584) for bit data,
	IS_META_DATA_TRUNCATED SMALLINT,
	ITEM_SCOPE SMALLINT,
	ITEM_UPDATE_DATE TIMESTAMP,
	FIRST_RECIPIENT_ID VARCHAR(36),
	NUM_RECIPIENTS SMALLINT, 
	PRIMARY_ACTION_URL VARCHAR(768), 
	SECONDARY_ACTION_URL VARCHAR(768),
	ITEM_AUTHOR_UUID VARCHAR (36),
	ITEM_AUTHOR_DISPLAYNAME VARCHAR (256),
	ITEM_CORRELATION_AUTHOR_UUID VARCHAR (36),
	ITEM_CORRELATION_AUTHOR_NAME VARCHAR (256)
)
IN NEWS32TABSPACE;

ALTER TABLE HOMEPAGE.NR_STORIES
    ADD CONSTRAINT "PK_STORY_ID" PRIMARY KEY("STORY_ID");

ALTER TABLE HOMEPAGE.NR_STORIES
  	ADD CONSTRAINT FK_ENTRY_ID FOREIGN KEY (ENTRY_ID)
	REFERENCES HOMEPAGE.NR_ENTRIES (ENTRY_ID);    

CREATE INDEX HOMEPAGE.NR_STORIES_DATE
	ON HOMEPAGE.NR_STORIES (CREATION_DATE DESC);

CREATE INDEX HOMEPAGE.STORY_CONTAINED_ID
    ON HOMEPAGE.NR_STORIES (CONTAINER_ID);

CREATE INDEX HOMEPAGE.STORIES_ITEM_CORR_ID
    ON HOMEPAGE.NR_STORIES (ITEM_CORRELATION_ID);

CREATE INDEX HOMEPAGE.NR_STORIES_EIDX
    ON HOMEPAGE.NR_STORIES (ENTRY_ID);

CREATE INDEX HOMEPAGE.NR_STORIES_ER_UUID
    ON HOMEPAGE.NR_STORIES (EVENT_RECORD_UUID, ENTRY_ID);

CREATE INDEX HOMEPAGE.NR_STORY_CD_IDX 
	ON HOMEPAGE.NR_STORIES (CREATION_DATE ASC, STORY_ID);    

COMMIT;    

------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------
---------- [START] MOVING THE DATA IN JUST ONE TABLE
------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------
-- HOMEPAGE.NR_SRC_STORIES_ACT
------------------------------------------------------------
----- [start] entries
EXPORT TO data.tmp.ixf OF IXF METHOD N (
	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
)
 SELECT 
 	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
  FROM HOMEPAGE.NR_ENTRIES_ACT   E
  WHERE  E.ENTRY_ID NOT IN (SELECT ENTRY_ID FROM HOMEPAGE.NR_ENTRIES);

COMMIT;

IMPORT FROM data.tmp.ixf OF IXF METHOD N ( 
	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC
) COMMITCOUNT 1000 
INSERT INTO HOMEPAGE.NR_ENTRIES ( 
 	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
); 
commit; 
--------- [end] entries
--------- [start] stories
EXPORT TO data.tmp.ixf OF IXF METHOD N ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
 
)
 SELECT 
  	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
  FROM HOMEPAGE.NR_SRC_STORIES_ACT S
  WHERE S.STORY_ID NOT IN (SELECT STORY_ID FROM HOMEPAGE.NR_STORIES);



IMPORT FROM data.tmp.ixf OF IXF METHOD N ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 

) COMMITCOUNT 1000 
INSERT INTO HOMEPAGE.NR_STORIES ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
 
); 
commit; 
--------- [end] stories

------------------------------------------------------------
-- HOMEPAGE.NR_SRC_STORIES_BLG
------------------------------------------------------------
----- [start] entries
EXPORT TO data.tmp.ixf OF IXF METHOD N (
	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
)
 SELECT 
 	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
  FROM HOMEPAGE.NR_ENTRIES_BLG   E
  WHERE  E.ENTRY_ID NOT IN (SELECT ENTRY_ID FROM HOMEPAGE.NR_ENTRIES);

COMMIT;

IMPORT FROM data.tmp.ixf OF IXF METHOD N ( 
	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC
) COMMITCOUNT 1000 
INSERT INTO HOMEPAGE.NR_ENTRIES ( 
 	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
); 
commit; 
--------- [end] entries
--------- [start] stories
EXPORT TO data.tmp.ixf OF IXF METHOD N ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
 
)
 SELECT 
  	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
  FROM HOMEPAGE.NR_SRC_STORIES_BLG S
  WHERE S.STORY_ID NOT IN (SELECT STORY_ID FROM HOMEPAGE.NR_STORIES);



IMPORT FROM data.tmp.ixf OF IXF METHOD N ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 

) COMMITCOUNT 1000 
INSERT INTO HOMEPAGE.NR_STORIES ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
 
); 
commit; 
--------- [end] stories

------------------------------------------------------------
-- HOMEPAGE.NR_SRC_STORIES_COM
------------------------------------------------------------
----- [start] entries
EXPORT TO data.tmp.ixf OF IXF METHOD N (
	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
)
 SELECT 
 	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
  FROM HOMEPAGE.NR_ENTRIES_COM   E
  WHERE  E.ENTRY_ID NOT IN (SELECT ENTRY_ID FROM HOMEPAGE.NR_ENTRIES);

COMMIT;

IMPORT FROM data.tmp.ixf OF IXF METHOD N ( 
	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC
) COMMITCOUNT 1000 
INSERT INTO HOMEPAGE.NR_ENTRIES ( 
 	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
); 
commit; 
--------- [end] entries
--------- [start] stories
EXPORT TO data.tmp.ixf OF IXF METHOD N ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
 
)
 SELECT 
  	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
  FROM HOMEPAGE.NR_SRC_STORIES_COM S
  WHERE S.STORY_ID NOT IN (SELECT STORY_ID FROM HOMEPAGE.NR_STORIES);



IMPORT FROM data.tmp.ixf OF IXF METHOD N ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 

) COMMITCOUNT 1000 
INSERT INTO HOMEPAGE.NR_STORIES ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
 
); 
commit; 
--------- [end] stories


------------------------------------------------------------
-- HOMEPAGE.NR_SRC_STORIES_WIK
------------------------------------------------------------
----- [start] entries
EXPORT TO data.tmp.ixf OF IXF METHOD N (
	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
)
 SELECT 
 	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
  FROM HOMEPAGE.NR_ENTRIES_WIK   E
  WHERE  E.ENTRY_ID NOT IN (SELECT ENTRY_ID FROM HOMEPAGE.NR_ENTRIES);

COMMIT;

IMPORT FROM data.tmp.ixf OF IXF METHOD N ( 
	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC
) COMMITCOUNT 1000 
INSERT INTO HOMEPAGE.NR_ENTRIES ( 
 	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
); 
commit; 
--------- [end] entries
--------- [start] stories
EXPORT TO data.tmp.ixf OF IXF METHOD N ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
 
)
 SELECT 
  	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
  FROM HOMEPAGE.NR_SRC_STORIES_WIK S
  WHERE S.STORY_ID NOT IN (SELECT STORY_ID FROM HOMEPAGE.NR_STORIES);



IMPORT FROM data.tmp.ixf OF IXF METHOD N ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 

) COMMITCOUNT 1000 
INSERT INTO HOMEPAGE.NR_STORIES ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
 
); 
commit; 
--------- [end] stories

------------------------------------------------------------
-- HOMEPAGE.NR_SRC_STORIES_PRF
------------------------------------------------------------
----- [start] entries
EXPORT TO data.tmp.ixf OF IXF METHOD N (
	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
)
 SELECT 
 	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
  FROM HOMEPAGE.NR_ENTRIES_PRF   E
  WHERE  E.ENTRY_ID NOT IN (SELECT ENTRY_ID FROM HOMEPAGE.NR_ENTRIES);

COMMIT;

IMPORT FROM data.tmp.ixf OF IXF METHOD N ( 
	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC
) COMMITCOUNT 1000 
INSERT INTO HOMEPAGE.NR_ENTRIES ( 
 	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
); 
commit; 
--------- [end] entries
--------- [start] stories
EXPORT TO data.tmp.ixf OF IXF METHOD N ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
 
)
 SELECT 
  	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
  FROM HOMEPAGE.NR_SRC_STORIES_PRF S
  WHERE S.STORY_ID NOT IN (SELECT STORY_ID FROM HOMEPAGE.NR_STORIES);



IMPORT FROM data.tmp.ixf OF IXF METHOD N ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 

) COMMITCOUNT 1000 
INSERT INTO HOMEPAGE.NR_STORIES ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
 
); 
commit; 
--------- [end] stories

------------------------------------------------------------
-- HOMEPAGE.NR_SRC_STORIES_HP
------------------------------------------------------------
----- [start] entries
EXPORT TO data.tmp.ixf OF IXF METHOD N (
	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
)
 SELECT 
 	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
  FROM HOMEPAGE.NR_ENTRIES_HP   E
  WHERE  E.ENTRY_ID NOT IN (SELECT ENTRY_ID FROM HOMEPAGE.NR_ENTRIES);

COMMIT;

IMPORT FROM data.tmp.ixf OF IXF METHOD N ( 
	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC
) COMMITCOUNT 1000 
INSERT INTO HOMEPAGE.NR_ENTRIES ( 
 	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
); 
commit; 
--------- [end] entries
--------- [start] stories
EXPORT TO data.tmp.ixf OF IXF METHOD N ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
 
)
 SELECT 
  	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
  FROM HOMEPAGE.NR_SRC_STORIES_HP S
  WHERE S.STORY_ID NOT IN (SELECT STORY_ID FROM HOMEPAGE.NR_STORIES);



IMPORT FROM data.tmp.ixf OF IXF METHOD N ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 

) COMMITCOUNT 1000 
INSERT INTO HOMEPAGE.NR_STORIES ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
 
); 
commit; 
--------- [end] stories


------------------------------------------------------------
-- HOMEPAGE.NR_SRC_STORIES_DGR
------------------------------------------------------------
----- [start] entries
EXPORT TO data.tmp.ixf OF IXF METHOD N (
	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
)
 SELECT 
 	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
  FROM HOMEPAGE.NR_ENTRIES_DGR  E
  WHERE  E.ENTRY_ID NOT IN (SELECT ENTRY_ID FROM HOMEPAGE.NR_ENTRIES);

COMMIT;

IMPORT FROM data.tmp.ixf OF IXF METHOD N ( 
	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC
) COMMITCOUNT 1000 
INSERT INTO HOMEPAGE.NR_ENTRIES ( 
 	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
); 
commit; 
--------- [end] entries
--------- [start] stories
EXPORT TO data.tmp.ixf OF IXF METHOD N ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
 
)
 SELECT 
  	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
  FROM HOMEPAGE.NR_SRC_STORIES_DGR S
  WHERE S.STORY_ID NOT IN (SELECT STORY_ID FROM HOMEPAGE.NR_STORIES);



IMPORT FROM data.tmp.ixf OF IXF METHOD N ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 

) COMMITCOUNT 1000 
INSERT INTO HOMEPAGE.NR_STORIES ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
 
); 
commit; 
--------- [end] stories


------------------------------------------------------------
-- HOMEPAGE.NR_SRC_STORIES_FILE
------------------------------------------------------------
----- [start] entries
EXPORT TO data.tmp.ixf OF IXF METHOD N (
	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
)
 SELECT 
 	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
  FROM HOMEPAGE.NR_ENTRIES_FILE   E
  WHERE  E.ENTRY_ID NOT IN (SELECT ENTRY_ID FROM HOMEPAGE.NR_ENTRIES);

COMMIT;

IMPORT FROM data.tmp.ixf OF IXF METHOD N ( 
	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC
) COMMITCOUNT 1000 
INSERT INTO HOMEPAGE.NR_ENTRIES ( 
 	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
); 
commit; 
--------- [end] entries
--------- [start] stories
EXPORT TO data.tmp.ixf OF IXF METHOD N ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
 
)
 SELECT 
  	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
  FROM HOMEPAGE.NR_SRC_STORIES_FILE S
  WHERE S.STORY_ID NOT IN (SELECT STORY_ID FROM HOMEPAGE.NR_STORIES);



IMPORT FROM data.tmp.ixf OF IXF METHOD N ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 

) COMMITCOUNT 1000 
INSERT INTO HOMEPAGE.NR_STORIES ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
 
); 
commit; 
--------- [end] stories


------------------------------------------------------------
-- HOMEPAGE.NR_SRC_STORIES_FRM
------------------------------------------------------------
----- [start] entries
EXPORT TO data.tmp.ixf OF IXF METHOD N (
	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
)
 SELECT 
 	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
  FROM HOMEPAGE.NR_ENTRIES_FRM   E
  WHERE  E.ENTRY_ID NOT IN (SELECT ENTRY_ID FROM HOMEPAGE.NR_ENTRIES);

COMMIT;

IMPORT FROM data.tmp.ixf OF IXF METHOD N ( 
	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC
) COMMITCOUNT 1000 
INSERT INTO HOMEPAGE.NR_ENTRIES ( 
 	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
); 
commit; 
--------- [end] entries
--------- [start] stories
EXPORT TO data.tmp.ixf OF IXF METHOD N ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
 
)
 SELECT 
  	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
  FROM HOMEPAGE.NR_SRC_STORIES_FRM S
  WHERE S.STORY_ID NOT IN (SELECT STORY_ID FROM HOMEPAGE.NR_STORIES);



IMPORT FROM data.tmp.ixf OF IXF METHOD N ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 

) COMMITCOUNT 1000 
INSERT INTO HOMEPAGE.NR_STORIES ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
 
); 
commit; 
--------- [end] stories


------------------------------------------------------------
-- HOMEPAGE.NR_SRC_STORIES_EXTERNAL
------------------------------------------------------------
----- [start] entries
EXPORT TO data.tmp.ixf OF IXF METHOD N (
	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
)
 SELECT 
 	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
  FROM HOMEPAGE.NR_ENTRIES_EXTERNAL   E
  WHERE  E.ENTRY_ID NOT IN (SELECT ENTRY_ID FROM HOMEPAGE.NR_ENTRIES);

COMMIT;

IMPORT FROM data.tmp.ixf OF IXF METHOD N ( 
	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC
) COMMITCOUNT 1000 
INSERT INTO HOMEPAGE.NR_ENTRIES ( 
 	ENTRY_ID, SOURCE, SOURCE_TYPE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_ID, ITEM_NAME, ITEM_URL, ITEM_CREATION_DATE,
	ITEM_UPDATE_DATE, ITEM_TAGS, N_COMMENTS, N_RECOMMANDATIONS, LAST_COMMENT_ID, LAST_DATE_COMMENT, LAST_AUTHOR_COMMENT,
	PREV_COMMENT_ID, PREV_DATE_COMMENT, PREV_AUTHOR_COMMENT, TARGET_SUBJECT_ID, ITEM_ATOM_URL, PREVIEW_IMAGE_URL,
	JSON_META_DATA, ITEM_SCOPE, IS_LAST_COMMENT_PUBLIC, IS_PREV_COMMENT_PUBLIC, ITEM_CORRELATION_ID, ITEM_CORRELATION_NAME,
	LAST_DESC_COMMENT, PREV_DESC_COMMENT, LAST_UPDATE_DATE_COMMENT, PREV_UPDATE_DATE_COMMENT, ITEM_AUTHOR_UUID,
	ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME, BRIEF_DESC 
); 
commit; 
--------- [end] entries
--------- [start] stories
EXPORT TO data.tmp.ixf OF IXF METHOD N ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
 
)
 SELECT 
  	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
  FROM HOMEPAGE.NR_SRC_STORIES_EXTERNAL S
  WHERE S.STORY_ID NOT IN (SELECT STORY_ID FROM HOMEPAGE.NR_STORIES);



IMPORT FROM data.tmp.ixf OF IXF METHOD N ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 

) COMMITCOUNT 1000 
INSERT INTO HOMEPAGE.NR_STORIES ( 
 	 STORY_ID, EVENT_NAME, SOURCE, CONTAINER_ID, CONTAINER_NAME, CONTAINER_URL, ITEM_NAME, ITEM_URL, ITEM_ATOM_URL,
  	 ITEM_ID, ITEM_CORRELATION_ID, ITEM_TAGS, CREATION_DATE, BRIEF_DESC, ACTOR_UUID, EVENT_RECORD_UUID, TAGS, META_TEMPLATE, 
 	 TEXT_META_TEMPLATE, R_META_TEMPLATE, R_TEXT_META_TEMPLATE, IS_COMMUNITY_STORY, ITEM_CORRELATION_NAME, HAS_ATTACHMENT, 
 	 SOURCE_TYPE, ENTRY_ID, EVENT_TIME, VERB, ACTIVITY_META_DATA_1, ACTIVITY_META_DATA_2, IS_META_DATA_TRUNCATED, 
 	 ITEM_SCOPE, ITEM_UPDATE_DATE, FIRST_RECIPIENT_ID, NUM_RECIPIENTS, PRIMARY_ACTION_URL, SECONDARY_ACTION_URL, 
 	 ITEM_AUTHOR_UUID, ITEM_AUTHOR_DISPLAYNAME, ITEM_CORRELATION_AUTHOR_UUID, ITEM_CORRELATION_AUTHOR_NAME 
 
); 
commit; 
--------- [end] stories
------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------
---------- [END] MOVING THE DATA IN JUST ONE TABLE
------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------

-------------------------------------------
-- [START] Migrating them from STORIES table (BRIEF_DESC)
--------------------------------------------

--  HOMEPAGE.NR_ENTRIES
UPDATE HOMEPAGE.NR_ENTRIES ENTRIES SET BRIEF_DESC = ( 
  			SELECT MAX (BRIEF_DESC) 
  			FROM HOMEPAGE.NR_STORIES STORIES 
  			WHERE ENTRIES.ENTRY_ID = STORIES.ENTRY_ID   AND    ENTRIES.ENTRY_ID < '0..f'
); 
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES ENTRIES SET BRIEF_DESC = ( 
  			SELECT MAX (BRIEF_DESC) 
  			FROM HOMEPAGE.NR_STORIES STORIES 
  			WHERE ENTRIES.ENTRY_ID = STORIES.ENTRY_ID   AND    ENTRIES.ENTRY_ID >= '0..f' AND ENTRIES.ENTRY_ID < '1..f' 
); 
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES ENTRIES SET BRIEF_DESC = ( 
  			SELECT MAX (BRIEF_DESC) 
  			FROM HOMEPAGE.NR_STORIES STORIES 
  			WHERE ENTRIES.ENTRY_ID = STORIES.ENTRY_ID   AND    ENTRIES.ENTRY_ID >= '1..f' AND ENTRIES.ENTRY_ID < '2..f' 
); 
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES ENTRIES SET BRIEF_DESC = ( 
  			SELECT MAX (BRIEF_DESC) 
  			FROM HOMEPAGE.NR_STORIES STORIES 
  			WHERE ENTRIES.ENTRY_ID = STORIES.ENTRY_ID   AND    ENTRIES.ENTRY_ID >= '2..f' AND ENTRIES.ENTRY_ID < '3..f'
); 
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES ENTRIES SET BRIEF_DESC = ( 
  			SELECT MAX (BRIEF_DESC) 
  			FROM HOMEPAGE.NR_STORIES STORIES 
  			WHERE ENTRIES.ENTRY_ID = STORIES.ENTRY_ID   AND    ENTRIES.ENTRY_ID >= '3..f' AND ENTRIES.ENTRY_ID < '4..f'
); 
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES ENTRIES SET BRIEF_DESC = ( 
  			SELECT MAX (BRIEF_DESC) 
  			FROM HOMEPAGE.NR_STORIES STORIES 
  			WHERE ENTRIES.ENTRY_ID = STORIES.ENTRY_ID   AND    ENTRIES.ENTRY_ID >= '4..f' AND ENTRIES.ENTRY_ID < '5..f'
); 
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES ENTRIES SET BRIEF_DESC = ( 
  			SELECT MAX (BRIEF_DESC) 
  			FROM HOMEPAGE.NR_STORIES STORIES 
  			WHERE ENTRIES.ENTRY_ID = STORIES.ENTRY_ID   AND    ENTRIES.ENTRY_ID >= '5..f' AND ENTRIES.ENTRY_ID < '6..f'
); 
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES ENTRIES SET BRIEF_DESC = ( 
  			SELECT MAX (BRIEF_DESC) 
  			FROM HOMEPAGE.NR_STORIES STORIES 
  			WHERE ENTRIES.ENTRY_ID = STORIES.ENTRY_ID   AND    ENTRIES.ENTRY_ID >= '6..f' AND ENTRIES.ENTRY_ID < '7..f'
); 
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES ENTRIES SET BRIEF_DESC = ( 
  			SELECT MAX (BRIEF_DESC) 
  			FROM HOMEPAGE.NR_STORIES STORIES 
  			WHERE ENTRIES.ENTRY_ID = STORIES.ENTRY_ID   AND    ENTRIES.ENTRY_ID >= '7..f' AND ENTRIES.ENTRY_ID < '8..f'
); 
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES ENTRIES SET BRIEF_DESC = ( 
  			SELECT MAX (BRIEF_DESC) 
  			FROM HOMEPAGE.NR_STORIES STORIES 
  			WHERE ENTRIES.ENTRY_ID = STORIES.ENTRY_ID   AND    ENTRIES.ENTRY_ID >= '8..f' AND ENTRIES.ENTRY_ID < '9..f'
); 
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES ENTRIES SET BRIEF_DESC = ( 
  			SELECT MAX (BRIEF_DESC) 
  			FROM HOMEPAGE.NR_STORIES STORIES 
  			WHERE ENTRIES.ENTRY_ID = STORIES.ENTRY_ID   AND    ENTRIES.ENTRY_ID >= '9..f' AND ENTRIES.ENTRY_ID < 'a..f'
); 
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES ENTRIES SET BRIEF_DESC = ( 
  			SELECT MAX (BRIEF_DESC) 
  			FROM HOMEPAGE.NR_STORIES STORIES 
  			WHERE ENTRIES.ENTRY_ID = STORIES.ENTRY_ID   AND    ENTRIES.ENTRY_ID >= 'a..f' AND ENTRIES.ENTRY_ID < 'b..f'
); 
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES ENTRIES SET BRIEF_DESC = ( 
  			SELECT MAX (BRIEF_DESC) 
  			FROM HOMEPAGE.NR_STORIES STORIES 
  			WHERE ENTRIES.ENTRY_ID = STORIES.ENTRY_ID   AND    ENTRIES.ENTRY_ID >= 'b..f' AND ENTRIES.ENTRY_ID < 'c..f'
); 
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES ENTRIES SET BRIEF_DESC = ( 
  			SELECT MAX (BRIEF_DESC) 
  			FROM HOMEPAGE.NR_STORIES STORIES 
  			WHERE ENTRIES.ENTRY_ID = STORIES.ENTRY_ID   AND    ENTRIES.ENTRY_ID >= 'c..f' AND ENTRIES.ENTRY_ID < 'd..f'
); 
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES ENTRIES SET BRIEF_DESC = ( 
  			SELECT MAX (BRIEF_DESC) 
  			FROM HOMEPAGE.NR_STORIES STORIES 
  			WHERE ENTRIES.ENTRY_ID = STORIES.ENTRY_ID   AND    ENTRIES.ENTRY_ID >= 'd..f' AND ENTRIES.ENTRY_ID < 'e..f'
); 
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES ENTRIES SET BRIEF_DESC = ( 
  			SELECT MAX (BRIEF_DESC) 
  			FROM HOMEPAGE.NR_STORIES STORIES 
  			WHERE ENTRIES.ENTRY_ID = STORIES.ENTRY_ID   AND    ENTRIES.ENTRY_ID >= 'e..f' AND ENTRIES.ENTRY_ID < 'f..f'
); 
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES ENTRIES SET BRIEF_DESC = ( 
  			SELECT MAX (BRIEF_DESC) 
  			FROM HOMEPAGE.NR_STORIES STORIES 
  			WHERE ENTRIES.ENTRY_ID = STORIES.ENTRY_ID   AND    ENTRIES.ENTRY_ID >= 'f..f' 
); 
COMMIT;

-------------------------------------------
-- [END Migrating them from STORIES table (BRIEF_DESC)
--------------------------------------------


-------------------------------------------------------------------
-- [START] ADDING INDEX FROM TAPSTAGE RALLY
-------------------------------------------------------------------
CREATE INDEX HOMEPAGE.TAB_INST_TAB_ID 
	ON HOMEPAGE.HP_TAB_INST (TAB_ID);
COMMIT;	
	
CREATE INDEX HOMEPAGE.BRD_ENTRIES_ITEM
	ON HOMEPAGE.BOARD_ENTRIES (ITEM_ID, SL_IS_DELETED);
COMMIT;	
	
CREATE INDEX HOMEPAGE.HP_UI 
	ON HOMEPAGE.HP_UI (LAST_VISIT ASC);
COMMIT;
-------------------------------------------------------------------
-- [END] ADDING INDEX FROM TAPSTAGE RALLY
-------------------------------------------------------------------	

-----------------------------------------------------------------------------------------
-- [START] MOVING DATA FROM NR_COMM_STORIES TO NR_COMMUNITIES_READERS
-----------------------------------------------------------------------------------------
--------- [start]  MOVING DATA FROM NR_COMM_STORIES TO NR_COMMUNITIES_READERS
EXPORT TO data.tmp.ixf OF IXF METHOD N ( 
	CATEGORY_READER_ID, READER_ID, CATEGORY_TYPE, SOURCE, CONTAINER_ID, ITEM_ID, 
	ROLLUP_ENTRY_ID, RESOURCE_TYPE, CREATION_DATE, STORY_ID, SOURCE_TYPE, USE_IN_ROLLUP, 
	IS_NETWORK, IS_FOLLOWER, EVENT_TIME, IS_STORY_COMM, 
	IS_BROADCAST, ORGANIZATION_ID, ACTOR_UUID 
)
SELECT 
	COMM_STORY_ID CATEGORY_READER_ID, COMMUNITY_ID READER_ID, 3 CATEGORY_TYPE, ' ' SOURCE, CONTAINER_ID, ITEM_ID,
	' ' ROLLUP_ENTRY_ID, RESOURCE_TYPE, CREATION_DATE, STORY_ID, SOURCE_TYPE, 0 USE_IN_ROLLUP,
	0 IS_NETWORK, 0 IS_FOLLOWER, CREATION_DATE EVENT_TIME, 1 IS_STORY_COMM, 
	0 IS_BROADCAST, ' ' ORGANIZATION_ID, ' ' ACTOR_UUID	
FROM HOMEPAGE.NR_COMM_STORIES;

IMPORT FROM data.tmp.ixf OF IXF METHOD N ( 
	CATEGORY_READER_ID, READER_ID, CATEGORY_TYPE, SOURCE, CONTAINER_ID, ITEM_ID, 
	ROLLUP_ENTRY_ID, RESOURCE_TYPE, CREATION_DATE, STORY_ID, SOURCE_TYPE, USE_IN_ROLLUP, 
	IS_NETWORK, IS_FOLLOWER, EVENT_TIME, IS_STORY_COMM, 
	IS_BROADCAST, ORGANIZATION_ID, ACTOR_UUID
) COMMITCOUNT 1000 
INSERT INTO HOMEPAGE.NR_COMMUNITIES_READERS ( 
	CATEGORY_READER_ID, READER_ID, CATEGORY_TYPE, SOURCE, CONTAINER_ID, ITEM_ID, 
	ROLLUP_ENTRY_ID, RESOURCE_TYPE, CREATION_DATE, STORY_ID, SOURCE_TYPE, USE_IN_ROLLUP, 
	IS_NETWORK, IS_FOLLOWER, EVENT_TIME, IS_STORY_COMM, 
	IS_BROADCAST, ORGANIZATION_ID, ACTOR_UUID 
); 
commit; 
--------- [end] MOVING DATA FROM NR_COMM_STORIES TO NR_COMMUNITIES_READERS
----------------------------------------------------------------------
-- [END] MOVING DATA FROM NR_COMM_STORIES TO NR_COMMUNITIES_READERS
----------------------------------------------------------------------

-----------------------------------------------
--  Recommendations widget is editable  [Work Item 52621]
-----------------------------------------------
UPDATE HOMEPAGE.WIDGET SET WIDGET_SYSTEM = 1 WHERE WIDGET_TITLE = '%widget.sand.recommend.name';
COMMIT;


---------------------------------------------------
-- [start] Dropping old STORIES and ENTRIES tables
---------------------------------------------------
DROP TABLE HOMEPAGE.NR_SRC_STORIES_ACT;
COMMIT;
DROP TABLE HOMEPAGE.NR_SRC_STORIES_BLG;
COMMIT;
DROP TABLE HOMEPAGE.NR_SRC_STORIES_COM;
COMMIT;
DROP TABLE HOMEPAGE.NR_SRC_STORIES_WIK;
COMMIT;
DROP TABLE HOMEPAGE.NR_SRC_STORIES_PRF;
COMMIT;
DROP TABLE HOMEPAGE.NR_SRC_STORIES_HP;
COMMIT;
DROP TABLE HOMEPAGE.NR_SRC_STORIES_DGR;
COMMIT;
DROP TABLE HOMEPAGE.NR_SRC_STORIES_FILE;
COMMIT;
DROP TABLE HOMEPAGE.NR_SRC_STORIES_FRM;
COMMIT;
DROP TABLE HOMEPAGE.NR_SRC_STORIES_EXTERNAL;
COMMIT;

DROP TABLE HOMEPAGE.NR_ENTRIES_ACT;
COMMIT;
DROP TABLE HOMEPAGE.NR_ENTRIES_BLG;
COMMIT;
DROP TABLE HOMEPAGE.NR_ENTRIES_COM;
COMMIT;
DROP TABLE HOMEPAGE.NR_ENTRIES_WIK;
COMMIT;
DROP TABLE HOMEPAGE.NR_ENTRIES_PRF;
COMMIT;
DROP TABLE HOMEPAGE.NR_ENTRIES_HP;
COMMIT;
DROP TABLE HOMEPAGE.NR_ENTRIES_DGR;
COMMIT;
DROP TABLE HOMEPAGE.NR_ENTRIES_FILE;
COMMIT;
DROP TABLE HOMEPAGE.NR_ENTRIES_FRM;
COMMIT;
DROP TABLE HOMEPAGE.NR_ENTRIES_EXTERNAL;
COMMIT;
---------------------------------------------------
-- [end] Dropping old STORIES and ENTRIES tables
---------------------------------------------------

