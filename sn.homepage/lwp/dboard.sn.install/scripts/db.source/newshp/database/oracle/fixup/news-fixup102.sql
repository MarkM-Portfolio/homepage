-- ***************************************************************** 
--                                                                   
-- IBM Confidential                                                  
--                                                                   
-- OCO Source Materials                                              
--                                                                   
-- Copyright IBM Corp. 2007, 2015                                    
--                                                                   
-- The source code for this program is not published or otherwise    
-- divested of its trade secrets, irrespective of what has been      
-- deposited with the U.S. Copyright Office.                         
--                                                                   
-- ***************************************************************** 

-- {COPYRIGHT}

---------------------------------------------------------------------------------
------------------------ START NEWS FIXUP 102 -----------------------------------
---------------------------------------------------------------------------------

INSERT INTO HOMEPAGE.NR_TEMPLATE
		(TEMPLATE_ID, NAME, DATA_SOURCE_STRING, FORMAT, NO_VALUES)
VALUES	('profileContainervmladkL9DFYU5ADFla9a','profileContainer', 'profileContainer', 'profilePhoto', 1); 

COMMIT;



DROP TABLE HOMEPAGE.NR_COMM_STORIES;

COMMIT;


---------------------------------------------------------------------------------
-- READER TABLES: REMOVE CLUSTER
---------------------------------------------------------------------------------

DROP CLUSTER HOMEPAGE.NR_AGGREGATED_READERS; 
COMMIT; 

CREATE INDEX 
	HOMEPAGE.AGGREGATED_READERS_RDR_STR ON HOMEPAGE.NR_AGGREGATED_READERS (READER_ID, STORY_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 


DROP CLUSTER HOMEPAGE.NR_RESPONSES_READERS; 
COMMIT; 

CREATE INDEX 
	HOMEPAGE.RESPONSES_READERS_RDR_STR ON HOMEPAGE.NR_RESPONSES_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 


DROP CLUSTER HOMEPAGE.NR_PROFILES_READERS; 
COMMIT; 

CREATE INDEX 
	HOMEPAGE.PROFILES_READERS_RDR_STR ON HOMEPAGE.NR_PROFILES_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_COMMUNITIES_READERS; 
COMMIT; 

CREATE INDEX 
	HOMEPAGE.COMM_READERS_RDR_STR ON HOMEPAGE.NR_COMMUNITIES_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_ACTIVITIES_READERS; 
COMMIT; 

CREATE INDEX 
	HOMEPAGE.ACTIVITIES_READERS_RDR_STR ON HOMEPAGE.NR_ACTIVITIES_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 


DROP CLUSTER HOMEPAGE.NR_BLOGS_READERS; 
COMMIT; 

CREATE INDEX 
	HOMEPAGE.BLOGS_READERS_RDR_STR ON HOMEPAGE.NR_BLOGS_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 


DROP CLUSTER HOMEPAGE.NR_BOOKMARKS_READERS; 
COMMIT; 

CREATE INDEX 
	HOMEPAGE.BOOKMARKS_READERS_RDR_STR ON HOMEPAGE.NR_BOOKMARKS_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 


DROP CLUSTER HOMEPAGE.NR_FILES_READERS; 
COMMIT; 

CREATE INDEX 
	HOMEPAGE.FILES_READERS_RDR_STR ON HOMEPAGE.NR_FILES_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 


DROP CLUSTER HOMEPAGE.NR_FORUMS_READERS; 
COMMIT; 

CREATE INDEX 
	HOMEPAGE.FORUMS_READERS_RDR_STR ON HOMEPAGE.NR_FORUMS_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 


DROP CLUSTER HOMEPAGE.NR_WIKIS_READERS; 
COMMIT; 

CREATE INDEX 
	HOMEPAGE.WIKIS_READERS_RDR_STR ON HOMEPAGE.NR_WIKIS_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_TAGS_READERS; 
COMMIT; 

CREATE INDEX 
	HOMEPAGE.TAGS_READERS_RDR_STR ON HOMEPAGE.NR_TAGS_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_STATUS_UPDATE_READERS; 
COMMIT; 

CREATE INDEX 
	HOMEPAGE.STATUS_READERS_RDR_STR ON HOMEPAGE.NR_STATUS_UPDATE_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_EXTERNAL_READERS; 
COMMIT; 

CREATE INDEX 
	HOMEPAGE.EXTERNAL_READERS_RDR_STR ON HOMEPAGE.NR_EXTERNAL_READERS (READER_ID, STORY_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 


DROP CLUSTER HOMEPAGE.NR_ACTIONABLE_READERS; 
COMMIT; 

CREATE INDEX 
	HOMEPAGE.ACTIONABLE_READERS_RDR_STR ON HOMEPAGE.NR_ACTIONABLE_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 


DROP CLUSTER HOMEPAGE.NR_DISCOVERY_VIEW; 
COMMIT; 

CREATE INDEX 
	HOMEPAGE.DISCOVERY_VIEW_RDR_STR ON HOMEPAGE.NR_DISCOVERY_VIEW (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 


DROP CLUSTER HOMEPAGE.NR_PROFILES_VIEW; 
COMMIT; 

CREATE INDEX 
	HOMEPAGE.PROFILES_VIEW_RDR_STR ON HOMEPAGE.NR_PROFILES_VIEW (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 


DROP CLUSTER HOMEPAGE.NR_NOTIFICATION_SENT_READERS; 
COMMIT; 

CREATE INDEX 
	HOMEPAGE.NOTIFICA_READERS_RDR_STR ON HOMEPAGE.NR_NOTIFICATION_SENT_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 


DROP CLUSTER HOMEPAGE.NR_NOTIFICATI_RECEIV_READERS; 
COMMIT; 

CREATE INDEX 
	HOMEPAGE.NOT_REC_READERS_RDR_STR ON HOMEPAGE.NR_NOTIFICATION_RECEIV_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 


DROP CLUSTER HOMEPAGE.NR_SAVED_READERS; 
COMMIT; 

CREATE INDEX 
	HOMEPAGE.SAVED_READERS_RDR_STR ON HOMEPAGE.NR_SAVED_READERS (READER_ID, STORY_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 


DROP CLUSTER HOMEPAGE.NR_TOPICS_READERS; 
COMMIT; 

CREATE INDEX 
	HOMEPAGE.TOPICS_READERS_RDR_STR ON HOMEPAGE.NR_TOPICS_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 




---------------------------------------------------------------------------------
-- Increase READER_ID column size 36 -> 39
---------------------------------------------------------------------------------

DROP INDEX HOMEPAGE.NR_NEWS_SN_READER_FOLL;
DROP INDEX HOMEPAGE.NR_NEWS_SN_READER_NETW;
DROP INDEX HOMEPAGE.NR_NEWS_STATUS_NETWORK_READER;
DROP INDEX HOMEPAGE.NR_NEWS_SN_READER_IDX;
DROP INDEX HOMEPAGE.NR_SN_ITEM_READ_UNQ;
COMMIT;

ALTER TABLE HOMEPAGE.NR_NEWS_STATUS_NETWORK 
	MODIFY READER_ID VARCHAR2(39);

COMMIT;

CREATE INDEX HOMEPAGE.NR_NEWS_SN_READER_FOLL
    ON HOMEPAGE.NR_NEWS_STATUS_NETWORK (UPDATE_DATE DESC, READER_ID, IS_FOLLOW_NEWS) TABLESPACE "NEWSINDEXTABSPACE";

CREATE INDEX HOMEPAGE.NR_NEWS_SN_READER_NETW
    ON HOMEPAGE.NR_NEWS_STATUS_NETWORK (UPDATE_DATE DESC, READER_ID, IS_NETWORK_NEWS) TABLESPACE "NEWSINDEXTABSPACE";

CREATE INDEX HOMEPAGE.NR_NEWS_STATUS_NETWORK_READER
    ON HOMEPAGE.NR_NEWS_STATUS_NETWORK (UPDATE_DATE DESC, READER_ID) TABLESPACE "NEWSINDEXTABSPACE";

CREATE INDEX HOMEPAGE.NR_NEWS_SN_READER_IDX
	ON HOMEPAGE.NR_NEWS_STATUS_NETWORK (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 

CREATE UNIQUE INDEX HOMEPAGE.NR_SN_ITEM_READ_UNQ
	ON HOMEPAGE.NR_NEWS_STATUS_NETWORK (ITEM_ID, READER_ID) TABLESPACE  NEWSINDEXTABSPACE;	

COMMIT;



DROP INDEX HOMEPAGE.AGGREGATED_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.AGGREGATED_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.AGGREGATED_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.AGGREGATED_READERS_ROLLUP_IX;
DROP INDEX HOMEPAGE.AGGREGATED_READERS_RDR_STR;
DROP INDEX HOMEPAGE.NR_AGGREGATED_READERS_RDR_IX;
DROP INDEX HOMEPAGE.NR_AGGREGATED_READERS_RIR_IX;
COMMIT; 

ALTER TABLE HOMEPAGE.NR_AGGREGATED_READERS MODIFY ( 
	READER_ID VARCHAR2(39)
); 
COMMIT; 


CREATE  INDEX HOMEPAGE.AGGREGATED_READERS_SRC_IX 
 	ON HOMEPAGE.NR_AGGREGATED_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.AGGREGATED_READERS_AUT_IX 
 	ON HOMEPAGE.NR_AGGREGATED_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.AGGREGATED_READERS_RLL_IX 
 	ON HOMEPAGE.NR_AGGREGATED_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.AGGREGATED_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_AGGREGATED_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 
CREATE INDEX 
	HOMEPAGE.AGGREGATED_READERS_RDR_STR ON HOMEPAGE.NR_AGGREGATED_READERS (READER_ID, STORY_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 
CREATE INDEX 
 	 HOMEPAGE.NR_AGGREGATED_READERS_RDR_IX ON HOMEPAGE.NR_AGGREGATED_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE INDEX HOMEPAGE.NR_AGGREGATED_READERS_RIR_IX
 	ON HOMEPAGE.NR_AGGREGATED_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;



DROP INDEX HOMEPAGE.RESPONSES_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.RESPONSES_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.RESPONSES_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.RESPONSES_READERS_ROLLUP_IX; 
DROP INDEX HOMEPAGE.RESPONSES_READERS_RDR_STR;
DROP INDEX HOMEPAGE.NR_RESPONSES_READERS_RDR_IX;
DROP INDEX HOMEPAGE.NR_RESPONSES_READERS_RIR_IX;
COMMIT; 

ALTER TABLE HOMEPAGE.NR_RESPONSES_READERS MODIFY ( 
	READER_ID VARCHAR2(39)
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.RESPONSES_READERS_SRC_IX 
 	ON HOMEPAGE.NR_RESPONSES_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.RESPONSES_READERS_AUT_IX 
 	ON HOMEPAGE.NR_RESPONSES_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.RESPONSES_READERS_RLL_IX 
 	ON HOMEPAGE.NR_RESPONSES_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX 
 	 HOMEPAGE.NR_RESPONSES_READERS_RDR_IX ON HOMEPAGE.NR_RESPONSES_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE INDEX 
	HOMEPAGE.RESPONSES_READERS_RDR_STR ON HOMEPAGE.NR_RESPONSES_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.RESPONSES_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_RESPONSES_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX HOMEPAGE.NR_RESPONSES_READERS_RIR_IX
 	ON HOMEPAGE.NR_RESPONSES_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;



DROP INDEX HOMEPAGE.PROFILES_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.PROFILES_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.PROFILES_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.PROFILES_READERS_ROLLUP_IX; 
DROP INDEX HOMEPAGE.PROFILES_READERS_RDR_STR;
DROP INDEX HOMEPAGE.NR_PROFILES_READERS_RDR_IX;
DROP INDEX HOMEPAGE.NR_PROFILES_READERS_RIR_IX;
COMMIT; 

ALTER TABLE HOMEPAGE.NR_PROFILES_READERS MODIFY ( 
	READER_ID VARCHAR2(39)
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.PROFILES_READERS_SRC_IX 
 	ON HOMEPAGE.NR_PROFILES_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.PROFILES_READERS_AUT_IX 
 	ON HOMEPAGE.NR_PROFILES_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.PROFILES_READERS_RLL_IX 
 	ON HOMEPAGE.NR_PROFILES_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX 
	HOMEPAGE.PROFILES_READERS_RDR_STR ON HOMEPAGE.NR_PROFILES_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE INDEX 
 	 HOMEPAGE.NR_PROFILES_READERS_RDR_IX ON HOMEPAGE.NR_PROFILES_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.PROFILES_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_PROFILES_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX HOMEPAGE.NR_PROFILES_READERS_RIR_IX
 	ON HOMEPAGE.NR_PROFILES_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;



DROP INDEX HOMEPAGE.COMM_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.COMM_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.COMM_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.COMM_READERS_ROLLUP_IX; 
DROP INDEX HOMEPAGE.COMM_READERS_RDR_STR;
DROP INDEX HOMEPAGE.NR_COMM_READERS_RDR_IX;
DROP INDEX HOMEPAGE.NR_COMM_READERS_RIR_IX;
COMMIT; 

ALTER TABLE HOMEPAGE.NR_COMMUNITIES_READERS MODIFY ( 
	READER_ID VARCHAR2(39)
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.COMM_READERS_SRC_IX 
 	ON HOMEPAGE.NR_COMMUNITIES_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.COMM_READERS_AUT_IX 
 	ON HOMEPAGE.NR_COMMUNITIES_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.COMM_READERS_RLL_IX 
 	ON HOMEPAGE.NR_COMMUNITIES_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX 
	HOMEPAGE.COMM_READERS_RDR_STR ON HOMEPAGE.NR_COMMUNITIES_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE INDEX 
 	 HOMEPAGE.NR_COMM_READERS_RDR_IX ON HOMEPAGE.NR_COMMUNITIES_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.COMM_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_COMMUNITIES_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX HOMEPAGE.NR_COMM_READERS_RIR_IX
 	ON HOMEPAGE.NR_COMMUNITIES_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;



DROP INDEX HOMEPAGE.ACTIVITIES_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.ACTIVITIES_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.ACTIVITIES_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.ACTIVITIES_READERS_ROLLUP_IX; 
DROP INDEX HOMEPAGE.ACTIVITIES_READERS_RDR_STR;
DROP INDEX HOMEPAGE.NR_ACTIVITIES_READERS_RDR_IX;
DROP INDEX HOMEPAGE.NR_ACTIVITIES_READERS_RIR_IX;
COMMIT; 

ALTER TABLE HOMEPAGE.NR_ACTIVITIES_READERS MODIFY ( 
	READER_ID VARCHAR2(39)
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.ACTIVITIES_READERS_SRC_IX 
 	ON HOMEPAGE.NR_ACTIVITIES_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.ACTIVITIES_READERS_AUT_IX 
 	ON HOMEPAGE.NR_ACTIVITIES_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.ACTIVITIES_READERS_RLL_IX 
 	ON HOMEPAGE.NR_ACTIVITIES_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX 
	HOMEPAGE.ACTIVITIES_READERS_RDR_STR ON HOMEPAGE.NR_ACTIVITIES_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE INDEX 
 	 HOMEPAGE.NR_ACTIVITIES_READERS_RDR_IX ON HOMEPAGE.NR_ACTIVITIES_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.ACTIVITIES_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_ACTIVITIES_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX HOMEPAGE.NR_ACTIVITIES_READERS_RIR_IX
 	ON HOMEPAGE.NR_ACTIVITIES_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;



DROP INDEX HOMEPAGE.BLOGS_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.BLOGS_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.BLOGS_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.BLOGS_READERS_ROLLUP_IX; 
DROP INDEX HOMEPAGE.BLOGS_READERS_RDR_STR;
DROP INDEX HOMEPAGE.NR_BLOGS_READERS_RDR_IX;
DROP INDEX HOMEPAGE.NR_BLOGS_READERS_RIR_IX;
COMMIT; 

ALTER TABLE HOMEPAGE.NR_BLOGS_READERS MODIFY ( 
	READER_ID VARCHAR2(39)
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.BLOGS_READERS_SRC_IX 
 	ON HOMEPAGE.NR_BLOGS_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.BLOGS_READERS_AUT_IX 
 	ON HOMEPAGE.NR_BLOGS_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.BLOGS_READERS_RLL_IX 
 	ON HOMEPAGE.NR_BLOGS_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX 
	HOMEPAGE.BLOGS_READERS_RDR_STR ON HOMEPAGE.NR_BLOGS_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE INDEX 
 	 HOMEPAGE.NR_BLOGS_READERS_RDR_IX ON HOMEPAGE.NR_BLOGS_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.BLOGS_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_BLOGS_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX HOMEPAGE.NR_BLOGS_READERS_RIR_IX
 	ON HOMEPAGE.NR_BLOGS_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;



DROP INDEX HOMEPAGE.BOOKMARKS_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.BOOKMARKS_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.BOOKMARKS_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.BOOKMARKS_READERS_ROLLUP_IX; 
DROP INDEX HOMEPAGE.BOOKMARKS_READERS_RDR_STR;
DROP INDEX HOMEPAGE.NR_BOOKMARKS_READERS_RDR_IX;
DROP INDEX HOMEPAGE.NR_BOOKMARKS_READERS_RIR_IX;
COMMIT; 

ALTER TABLE HOMEPAGE.NR_BOOKMARKS_READERS MODIFY ( 
	READER_ID VARCHAR2(39)
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.BOOKMARKS_READERS_SRC_IX 
 	ON HOMEPAGE.NR_BOOKMARKS_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.BOOKMARKS_READERS_AUT_IX 
 	ON HOMEPAGE.NR_BOOKMARKS_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.BOOKMARKS_READERS_RLL_IX 
 	ON HOMEPAGE.NR_BOOKMARKS_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX 
	HOMEPAGE.BOOKMARKS_READERS_RDR_STR ON HOMEPAGE.NR_BOOKMARKS_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE INDEX 
 	 HOMEPAGE.NR_BOOKMARKS_READERS_RDR_IX ON HOMEPAGE.NR_BOOKMARKS_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.BOOKMARKS_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_BOOKMARKS_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX HOMEPAGE.NR_BOOKMARKS_READERS_RIR_IX
 	ON HOMEPAGE.NR_BOOKMARKS_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;



DROP INDEX HOMEPAGE.FILES_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.FILES_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.FILES_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.FILES_READERS_ROLLUP_IX; 
DROP INDEX HOMEPAGE.FILES_READERS_RDR_STR;
DROP INDEX HOMEPAGE.NR_FILES_READERS_RDR_IX;
DROP INDEX HOMEPAGE.NR_FILES_READERS_RIR_IX;
COMMIT; 

ALTER TABLE HOMEPAGE.NR_FILES_READERS MODIFY ( 
	READER_ID VARCHAR2(39)
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.FILES_READERS_SRC_IX 
 	ON HOMEPAGE.NR_FILES_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.FILES_READERS_AUT_IX 
 	ON HOMEPAGE.NR_FILES_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.FILES_READERS_RLL_IX 
 	ON HOMEPAGE.NR_FILES_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX 
	HOMEPAGE.FILES_READERS_RDR_STR ON HOMEPAGE.NR_FILES_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE INDEX 
 	 HOMEPAGE.NR_FILES_READERS_RDR_IX ON HOMEPAGE.NR_FILES_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.FILES_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_FILES_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX HOMEPAGE.NR_FILES_READERS_RIR_IX
 	ON HOMEPAGE.NR_FILES_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;



DROP INDEX HOMEPAGE.FORUMS_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.FORUMS_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.FORUMS_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.FORUMS_READERS_ROLLUP_IX; 
DROP INDEX HOMEPAGE.FORUMS_READERS_RDR_STR;
DROP INDEX HOMEPAGE.NR_FORUMS_READERS_RDR_IX;
DROP INDEX HOMEPAGE.NR_FORUMS_READERS_RIR_IX;
COMMIT; 

ALTER TABLE HOMEPAGE.NR_FORUMS_READERS MODIFY ( 
	READER_ID VARCHAR2(39)
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.FORUMS_READERS_SRC_IX 
 	ON HOMEPAGE.NR_FORUMS_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.FORUMS_READERS_AUT_IX 
 	ON HOMEPAGE.NR_FORUMS_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.FORUMS_READERS_RLL_IX 
 	ON HOMEPAGE.NR_FORUMS_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX 
	HOMEPAGE.FORUMS_READERS_RDR_STR ON HOMEPAGE.NR_FORUMS_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE INDEX 
 	 HOMEPAGE.NR_FORUMS_READERS_RDR_IX ON HOMEPAGE.NR_FORUMS_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.FORUMS_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_FORUMS_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX HOMEPAGE.NR_FORUMS_READERS_RIR_IX
 	ON HOMEPAGE.NR_FORUMS_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;



DROP INDEX HOMEPAGE.WIKIS_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.WIKIS_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.WIKIS_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.WIKIS_READERS_ROLLUP_IX; 
DROP INDEX HOMEPAGE.WIKIS_READERS_RDR_STR;
DROP INDEX HOMEPAGE.NR_WIKIS_READERS_RDR_IX;
DROP INDEX HOMEPAGE.NR_WIKIS_READERS_RIR_IX;
COMMIT; 

ALTER TABLE HOMEPAGE.NR_WIKIS_READERS MODIFY ( 
	READER_ID VARCHAR2(39)
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.WIKIS_READERS_SRC_IX 
 	ON HOMEPAGE.NR_WIKIS_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.WIKIS_READERS_AUT_IX 
 	ON HOMEPAGE.NR_WIKIS_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.WIKIS_READERS_RLL_IX 
 	ON HOMEPAGE.NR_WIKIS_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX 
	HOMEPAGE.WIKIS_READERS_RDR_STR ON HOMEPAGE.NR_WIKIS_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE INDEX 
 	 HOMEPAGE.NR_WIKIS_READERS_RDR_IX ON HOMEPAGE.NR_WIKIS_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.WIKIS_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_WIKIS_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX HOMEPAGE.NR_WIKIS_READERS_RIR_IX
 	ON HOMEPAGE.NR_WIKIS_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;



DROP INDEX HOMEPAGE.TAGS_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.TAGS_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.TAGS_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.TAGS_READERS_ROLLUP_IX; 
DROP INDEX HOMEPAGE.TAGS_READERS_RDR_STR;
DROP INDEX HOMEPAGE.NR_TAGS_READERS_RDR_IX;
DROP INDEX HOMEPAGE.NR_TAGS_READERS_RIR_IX;
COMMIT; 

ALTER TABLE HOMEPAGE.NR_TAGS_READERS MODIFY ( 
	READER_ID VARCHAR2(39)
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.TAGS_READERS_SRC_IX 
 	ON HOMEPAGE.NR_TAGS_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.TAGS_READERS_AUT_IX 
 	ON HOMEPAGE.NR_TAGS_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.TAGS_READERS_RLL_IX 
 	ON HOMEPAGE.NR_TAGS_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX 
	HOMEPAGE.TAGS_READERS_RDR_STR ON HOMEPAGE.NR_TAGS_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE INDEX 
 	 HOMEPAGE.NR_TAGS_READERS_RDR_IX ON HOMEPAGE.NR_TAGS_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.TAGS_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_TAGS_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX HOMEPAGE.NR_TAGS_READERS_RIR_IX
 	ON HOMEPAGE.NR_TAGS_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;



DROP INDEX HOMEPAGE.STATUS_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.STATUS_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.STATUS_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.STATUS_READERS_ROLLUP_IX; 
DROP INDEX HOMEPAGE.STATUS_READERS_RDR_STR;
DROP INDEX HOMEPAGE.NR_STATUS_READERS_RDR_IX;
DROP INDEX HOMEPAGE.NR_STATUS_READERS_RIR_IX;
COMMIT; 

ALTER TABLE HOMEPAGE.NR_STATUS_UPDATE_READERS MODIFY ( 
	READER_ID VARCHAR2(39)
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.STATUS_READERS_SRC_IX 
 	ON HOMEPAGE.NR_STATUS_UPDATE_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.STATUS_READERS_AUT_IX 
 	ON HOMEPAGE.NR_STATUS_UPDATE_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.STATUS_READERS_RLL_IX 
 	ON HOMEPAGE.NR_STATUS_UPDATE_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX 
	HOMEPAGE.STATUS_READERS_RDR_STR ON HOMEPAGE.NR_STATUS_UPDATE_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE INDEX 
 	 HOMEPAGE.NR_STATUS_READERS_RDR_IX ON HOMEPAGE.NR_STATUS_UPDATE_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.STATUS_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_STATUS_UPDATE_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX HOMEPAGE.NR_STATUS_READERS_RIR_IX
 	ON HOMEPAGE.NR_STATUS_UPDATE_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;



DROP INDEX HOMEPAGE.EXTERNAL_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.EXTERNAL_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.EXTERNAL_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.EXTERNAL_READERS_ROLLUP_IX; 
DROP INDEX HOMEPAGE.EXTERNAL_READERS_RDR_STR;
DROP INDEX HOMEPAGE.NR_EXTERNAL_READERS_RDR_IX;
DROP INDEX HOMEPAGE.NR_EXTERNAL_READERS_RIR_IX;
COMMIT; 

ALTER TABLE HOMEPAGE.NR_EXTERNAL_READERS MODIFY ( 
	READER_ID VARCHAR2(39)
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.EXTERNAL_READERS_SRC_IX 
 	ON HOMEPAGE.NR_EXTERNAL_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.EXTERNAL_READERS_AUT_IX 
 	ON HOMEPAGE.NR_EXTERNAL_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.EXTERNAL_READERS_RLL_IX 
 	ON HOMEPAGE.NR_EXTERNAL_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX 
	HOMEPAGE.EXTERNAL_READERS_RDR_STR ON HOMEPAGE.NR_EXTERNAL_READERS (READER_ID, STORY_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 
CREATE INDEX 
 	 HOMEPAGE.NR_EXTERNAL_READERS_RDR_IX ON HOMEPAGE.NR_EXTERNAL_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.EXTERNAL_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_EXTERNAL_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX HOMEPAGE.NR_EXTERNAL_READERS_RIR_IX
 	ON HOMEPAGE.NR_EXTERNAL_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;



DROP INDEX HOMEPAGE.ACTIONABLE_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.ACTIONABLE_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.ACTIONABLE_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.ACTIONABLE_READERS_ROLLUP_IX; 
DROP INDEX HOMEPAGE.ACTIONABLE_READERS_RDR_STR;
DROP INDEX HOMEPAGE.NR_ACTIONABLE_READERS_RDR_IX;
DROP INDEX HOMEPAGE.NR_ACTIONABLE_READERS_RIR_IX;
COMMIT; 

ALTER TABLE HOMEPAGE.NR_ACTIONABLE_READERS MODIFY ( 
	READER_ID VARCHAR2(39)
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.ACTIONABLE_READERS_SRC_IX 
 	ON HOMEPAGE.NR_ACTIONABLE_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.ACTIONABLE_READERS_AUT_IX 
 	ON HOMEPAGE.NR_ACTIONABLE_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.ACTIONABLE_READERS_RLL_IX 
 	ON HOMEPAGE.NR_ACTIONABLE_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX 
	HOMEPAGE.ACTIONABLE_READERS_RDR_STR ON HOMEPAGE.NR_ACTIONABLE_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE INDEX 
 	 HOMEPAGE.NR_ACTIONABLE_READERS_RDR_IX ON HOMEPAGE.NR_ACTIONABLE_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.ACTIONABLE_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_ACTIONABLE_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX HOMEPAGE.NR_ACTIONABLE_READERS_RIR_IX
 	ON HOMEPAGE.NR_ACTIONABLE_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;



DROP INDEX HOMEPAGE.DISCOVERY_VIEW_SRC_IX; 
DROP INDEX HOMEPAGE.DISCOVERY_VIEW_AUT_IX; 
DROP INDEX HOMEPAGE.DISCOVERY_VIEW_RLL_IX; 
DROP INDEX HOMEPAGE.DISCOVERY_VIEW_ROLLUP_IX; 
DROP INDEX HOMEPAGE.DISCOVERY_VIEW_RDR_STR;
DROP INDEX HOMEPAGE.NR_DISCOVERY_VIEW_RDR_IX;
DROP INDEX HOMEPAGE.NR_DISCOVERY_VIEW_RIR_IX;
COMMIT; 

ALTER TABLE HOMEPAGE.NR_DISCOVERY_VIEW MODIFY ( 
	READER_ID VARCHAR2(39)
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.DISCOVERY_VIEW_SRC_IX 
 	ON HOMEPAGE.NR_DISCOVERY_VIEW (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.DISCOVERY_VIEW_AUT_IX 
 	ON HOMEPAGE.NR_DISCOVERY_VIEW (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.DISCOVERY_VIEW_RLL_IX 
 	ON HOMEPAGE.NR_DISCOVERY_VIEW (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX 
	HOMEPAGE.DISCOVERY_VIEW_RDR_STR ON HOMEPAGE.NR_DISCOVERY_VIEW (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE INDEX 
 	 HOMEPAGE.NR_DISCOVERY_VIEW_RDR_IX ON HOMEPAGE.NR_DISCOVERY_VIEW (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.DISCOVERY_VIEW_ROLLUP_IX 
 	ON HOMEPAGE.NR_DISCOVERY_VIEW (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX HOMEPAGE.NR_DISCOVERY_VIEW_RIR_IX
 	ON HOMEPAGE.NR_DISCOVERY_VIEW (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;



DROP INDEX HOMEPAGE.PROFILES_VIEW_SRC_IX; 
DROP INDEX HOMEPAGE.PROFILES_VIEW_AUT_IX; 
DROP INDEX HOMEPAGE.PROFILES_VIEW_RLL_IX; 
DROP INDEX HOMEPAGE.PROFILES_VIEW_ROLLUP_IX; 
DROP INDEX HOMEPAGE.PROFILES_VIEW_RDR_STR;
DROP INDEX HOMEPAGE.NR_PROFILES_VIEW_RDR_IX;
DROP INDEX HOMEPAGE.NR_PROFILES_VIEW_RIR_IX;
COMMIT; 

ALTER TABLE HOMEPAGE.NR_PROFILES_VIEW MODIFY ( 
	READER_ID VARCHAR2(39)
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.PROFILES_VIEW_SRC_IX 
 	ON HOMEPAGE.NR_PROFILES_VIEW (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.PROFILES_VIEW_AUT_IX 
 	ON HOMEPAGE.NR_PROFILES_VIEW (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.PROFILES_VIEW_RLL_IX 
 	ON HOMEPAGE.NR_PROFILES_VIEW (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX 
	HOMEPAGE.PROFILES_VIEW_RDR_STR ON HOMEPAGE.NR_PROFILES_VIEW (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE INDEX 
 	 HOMEPAGE.NR_PROFILES_VIEW_RDR_IX ON HOMEPAGE.NR_PROFILES_VIEW (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.PROFILES_VIEW_ROLLUP_IX 
 	ON HOMEPAGE.NR_PROFILES_VIEW (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX HOMEPAGE.NR_PROFILES_VIEW_RIR_IX
 	ON HOMEPAGE.NR_PROFILES_VIEW (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;



DROP INDEX HOMEPAGE.NOTIFICA_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.NOTIFICA_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.NOTIFICA_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.NOTIFICA_READERS_ROLLUP_IX; 
DROP INDEX HOMEPAGE.NOTIFICA_READERS_RDR_STR;
DROP INDEX HOMEPAGE.NR_NOTIFICA_READERS_RDR_IX;
DROP INDEX HOMEPAGE.NR_NOTIFICA_READERS_RIR_IX;
COMMIT; 

ALTER TABLE HOMEPAGE.NR_NOTIFICATION_SENT_READERS MODIFY ( 
	READER_ID VARCHAR2(39)
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.NOTIFICA_READERS_SRC_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_SENT_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.NOTIFICA_READERS_AUT_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_SENT_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.NOTIFICA_READERS_RLL_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_SENT_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX 
	HOMEPAGE.NOTIFICA_READERS_RDR_STR ON HOMEPAGE.NR_NOTIFICATION_SENT_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE INDEX 
 	 HOMEPAGE.NR_NOTIFICA_READERS_RDR_IX ON HOMEPAGE.NR_NOTIFICATION_SENT_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.NOTIFICA_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_SENT_READERS (ROLLUP_ENTRY_ID, READER_ID)  TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX HOMEPAGE.NR_NOTIFICA_READERS_RIR_IX
 	ON HOMEPAGE.NR_NOTIFICATION_SENT_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;



DROP INDEX HOMEPAGE.NOT_REC_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.NOT_REC_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.NOT_REC_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.NOT_REC_READERS_ROLLUP_IX; 
DROP INDEX HOMEPAGE.NOT_REC_READERS_RDR_STR;
DROP INDEX HOMEPAGE.NR_NOT_REC_READERS_RDR_IX;
DROP INDEX HOMEPAGE.NR_NOT_REC_READERS_RIR_IX;
COMMIT; 

ALTER TABLE HOMEPAGE.NR_NOTIFICATION_RECEIV_READERS MODIFY ( 
	READER_ID VARCHAR2(39)
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.NOT_REC_READERS_SRC_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_RECEIV_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.NOT_REC_READERS_AUT_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_RECEIV_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.NOT_REC_READERS_RLL_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_RECEIV_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX 
	HOMEPAGE.NOT_REC_READERS_RDR_STR ON HOMEPAGE.NR_NOTIFICATION_RECEIV_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE INDEX 
 	 HOMEPAGE.NR_NOT_REC_READERS_RDR_IX ON HOMEPAGE.NR_NOTIFICATION_RECEIV_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.NOT_REC_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_RECEIV_READERS (ROLLUP_ENTRY_ID, READER_ID)  TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX HOMEPAGE.NR_NOT_REC_READERS_RIR_IX
 	ON HOMEPAGE.NR_NOTIFICATION_RECEIV_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;



DROP INDEX HOMEPAGE.SAVED_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.SAVED_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.SAVED_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.SAVED_READERS_ROLLUP_IX; 
DROP INDEX HOMEPAGE.SAVED_READERS_RDR_STR;
DROP INDEX HOMEPAGE.NR_SAVED_READERS_RDR_IX;
DROP INDEX HOMEPAGE.NR_SAVED_READERS_RIR_IX;
COMMIT; 

ALTER TABLE HOMEPAGE.NR_SAVED_READERS MODIFY ( 
	READER_ID VARCHAR2(39)
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.SAVED_READERS_SRC_IX 
 	ON HOMEPAGE.NR_SAVED_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.SAVED_READERS_AUT_IX 
 	ON HOMEPAGE.NR_SAVED_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.SAVED_READERS_RLL_IX 
 	ON HOMEPAGE.NR_SAVED_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX 
	HOMEPAGE.SAVED_READERS_RDR_STR ON HOMEPAGE.NR_SAVED_READERS (READER_ID, STORY_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 
CREATE INDEX 
 	 HOMEPAGE.NR_SAVED_READERS_RDR_IX ON HOMEPAGE.NR_SAVED_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.SAVED_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_SAVED_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX HOMEPAGE.NR_SAVED_READERS_RIR_IX
 	ON HOMEPAGE.NR_SAVED_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;



DROP INDEX HOMEPAGE.TOPICS_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.TOPICS_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.TOPICS_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.TOPICS_READERS_ROLLUP_IX; 
DROP INDEX HOMEPAGE.TOPICS_READERS_RDR_STR;
DROP INDEX HOMEPAGE.NR_TOPICS_READERS_RDR_IX;
DROP INDEX HOMEPAGE.NR_TOPICS_READERS_RIR_IX;
COMMIT; 

ALTER TABLE HOMEPAGE.NR_TOPICS_READERS MODIFY ( 
	READER_ID VARCHAR2(39)
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.TOPICS_READERS_SRC_IX 
 	ON HOMEPAGE.NR_TOPICS_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.TOPICS_READERS_AUT_IX 
 	ON HOMEPAGE.NR_TOPICS_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.TOPICS_READERS_RLL_IX 
 	ON HOMEPAGE.NR_TOPICS_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX 
	HOMEPAGE.TOPICS_READERS_RDR_STR ON HOMEPAGE.NR_TOPICS_READERS (READER_ID, STORY_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE INDEX 
 	 HOMEPAGE.NR_TOPICS_READERS_RDR_IX ON HOMEPAGE.NR_TOPICS_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.TOPICS_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_TOPICS_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE INDEX HOMEPAGE.NR_TOPICS_READERS_RIR_IX
 	ON HOMEPAGE.NR_TOPICS_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;


---------------------------------------------------------------------------------
-- Increase COMMUNITY_ID column size 36 -> 39
---------------------------------------------------------------------------------

DROP INDEX HOMEPAGE.NR_COMM_FOLLOW_COM_ID;
COMMIT;

ALTER TABLE HOMEPAGE.NR_COMM_FOLLOW
	MODIFY COMMUNITY_ID VARCHAR2(39);
COMMIT;

CREATE INDEX HOMEPAGE.NR_COMM_FOLLOW_COM_ID
    ON HOMEPAGE.NR_COMM_FOLLOW (COMMUNITY_ID) TABLESPACE "NEWSINDEXTABSPACE";     
COMMIT;



DROP INDEX HOMEPAGE.NR_COMM_FOLLOW_COM_PER_ID;
COMMIT;

ALTER TABLE HOMEPAGE.NR_COMM_PERSON_FOLLOW
	MODIFY PERSON_COMMUNITY_ID VARCHAR2(39);
COMMIT;

CREATE INDEX HOMEPAGE.NR_COMM_FOLLOW_COM_PER_ID
    ON HOMEPAGE.NR_COMM_PERSON_FOLLOW (PERSON_COMMUNITY_ID)  TABLESPACE "NEWSINDEXTABSPACE";
COMMIT;




ALTER TABLE HOMEPAGE.NR_STORIES
	MODIFY RELATED_COMMUNITY_ID VARCHAR2(39);
COMMIT;


---------------------------------------------------------------------------------
-- MODIFY NR_STORIES AND NR_ENTRIES TABLE TO HAVE CONSISTENT DATA MODEL
---------------------------------------------------------------------------------


ALTER TABLE HOMEPAGE.NR_ENTRIES 
	DROP COLUMN ITEM_CORRELATION_AUTHOR_NAME;

ALTER TABLE HOMEPAGE.NR_ENTRIES 
	DROP COLUMN ITEM_AUTHOR_DISPLAYNAME;

COMMIT;


ALTER TABLE HOMEPAGE.NR_ENTRIES_ARCHIVE 
	DROP COLUMN ITEM_CORRELATION_AUTHOR_NAME;

ALTER TABLE HOMEPAGE.NR_ENTRIES_ARCHIVE 
	DROP COLUMN ITEM_AUTHOR_DISPLAYNAME;

COMMIT;


ALTER TABLE HOMEPAGE.NR_STORIES 
	DROP COLUMN ITEM_CORRELATION_AUTHOR_NAME;

ALTER TABLE HOMEPAGE.NR_STORIES  ADD (
	ENTRY_CORRELATION_ID VARCHAR2(36),
	ITEM_CORRELATION_ATOM_URL VARCHAR2(2048)
);
COMMIT;



---------------------------------------------------------------------------------
-- ADD ADDITIONAL INDEXES BASED ON W3 RALLY AND MIGRATION TESTS
---------------------------------------------------------------------------------


-- NR_STORIES TABLE

CREATE INDEX HOMEPAGE.STORIES_ITEM_ID_IX 
	ON HOMEPAGE.NR_STORIES (ITEM_ID) TABLESPACE "NEWSINDEXTABSPACE";

COMMIT;


-- NR_RESOURCE

CREATE INDEX HOMEPAGE.NR_RESOURCE_TYPE_CONT_IX
	ON HOMEPAGE.NR_RESOURCE (RESOURCE_TYPE, CONTAINER_NAME) TABLESPACE "NEWSINDEXTABSPACE";

COMMIT;


-- NR_SAVED_READERS

CREATE INDEX HOMEPAGE.SAVED_READERS_SR_IX
	ON HOMEPAGE.NR_SAVED_READERS (STORY_ID, READER_ID) TABLESPACE "NEWSINDEXTABSPACE";

COMMIT;



---------------------------------------------------------------------------------
------------------------ END NEWS FIXUP 102 -------------------------------------
---------------------------------------------------------------------------------
