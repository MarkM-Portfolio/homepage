-- ***************************************************************** 
--                                                                   
-- IBM Confidential                                                  
--                                                                   
-- OCO Source Materials                                              
--                                                                   
-- Copyright IBM Corp. 2007, 2015                                    
--                                                                   
-- The source code for this program is not published or otherwise    
-- divested of its trade secrets, irrespective of what has been      
-- deposited with the U.S. Copyright Office.                         
--                                                                   
-- ***************************************************************** 

-- {COPYRIGHT}

---------------------------------------------------------------------------------
------------------------ START NEWS FIXUP 101 -----------------------------------
---------------------------------------------------------------------------------

ALTER TABLE HOMEPAGE.BOARD_COMMENTS
	ADD TAGS VARCHAR2(1024);

ALTER TABLE HOMEPAGE.BOARD_COMMENTS ENABLE ROW MOVEMENT;

COMMIT;


ALTER TABLE HOMEPAGE.BOARD_ENTRIES
	DROP COLUMN CONTAINER_NAME;

ALTER TABLE HOMEPAGE.BOARD_ENTRIES ENABLE ROW MOVEMENT;

COMMIT;


ALTER TABLE HOMEPAGE.NR_ENTRIES
	ADD LAST_UPDATE_RECORD TIMESTAMP;

ALTER TABLE HOMEPAGE.NR_ENTRIES
	DROP COLUMN TARGET_SUBJECT_ID;

ALTER TABLE HOMEPAGE.NR_ENTRIES ENABLE ROW MOVEMENT;

COMMIT;


ALTER TABLE HOMEPAGE.NR_ENTRIES_ARCHIVE
	ADD LAST_UPDATE_RECORD TIMESTAMP; 

ALTER TABLE HOMEPAGE.NR_ENTRIES_ARCHIVE
	DROP COLUMN TARGET_SUBJECT_ID;

ALTER TABLE HOMEPAGE.NR_ENTRIES_ARCHIVE ENABLE ROW MOVEMENT;

COMMIT;


ALTER TABLE HOMEPAGE.NR_STORIES
	ADD CONTAINER_ATOM_URL VARCHAR2(2048);

ALTER TABLE HOMEPAGE.NR_STORIES ENABLE ROW MOVEMENT;

COMMIT;


ALTER TABLE HOMEPAGE.NR_AS_CONTENT_INDEX_STATS 
	ADD STAT_UPDATE_DATE TIMESTAMP;

ALTER TABLE HOMEPAGE.NR_AS_CONTENT_INDEX_STATS ENABLE ROW MOVEMENT;

COMMIT;


ALTER TABLE HOMEPAGE.NR_AS_SEEDLIST 
	DROP COLUMN EVENT_RECORD_UUID;

ALTER TABLE HOMEPAGE.NR_AS_SEEDLIST ENABLE ROW MOVEMENT;

COMMIT;

-------------------------------------------------------------------------
-- Insert repost author templates
-------------------------------------------------------------------------

INSERT INTO HOMEPAGE.NR_TEMPLATE
		(TEMPLATE_ID, NAME, DATA_SOURCE_STRING, FORMAT, NO_VALUES)
VALUES	('itemAuthor-wPldKwZTaR7aAiPFw4L08CyRW','Author', 'asItemAuthor','profilePhoto', 1);

INSERT INTO HOMEPAGE.NR_TEMPLATE
		(TEMPLATE_ID, NAME, DATA_SOURCE_STRING, FORMAT, NO_VALUES)
VALUES	('itemauthor-wPldKwZTaR7aAiPFw4L08CyRW','author', 'asItemAuthor','profilePhoto',  1);

INSERT INTO HOMEPAGE.NR_TEMPLATE
		(TEMPLATE_ID, NAME, DATA_SOURCE_STRING, FORMAT, NO_VALUES)
VALUES	('itemCorrAuthorkla9034jl89vasgf3k5Wfd','correlationItemAuthor', 'correlationItemAuthor','profilePhoto',  1);

COMMIT;


-------------------------------------------------------------------------
-- Fix SOURCE TYPE data
-------------------------------------------------------------------------

UPDATE HOMEPAGE.NR_SOURCE_TYPE SET IMAGE_URL_SSL = IMAGE_URL;

COMMIT;

---------------------------------------------------------------------------------
-- 36 -> 256
---------------------------------------------------------------------------------


ALTER TABLE HOMEPAGE.NR_ENTRIES MODIFY ( 
	ITEM_ID VARCHAR2(256),
	ITEM_CORRELATION_ID VARCHAR2(256),
	LAST_COMMENT_ID VARCHAR2(256),
	PREV_COMMENT_ID VARCHAR2(256),
	ITEM_AUTHOR_UUID VARCHAR2(256),
	ITEM_CORRELATION_AUTHOR_UUID VARCHAR2(256)
);
COMMIT;

ALTER TABLE HOMEPAGE.NR_ENTRIES_ARCHIVE MODIFY ( 
	ITEM_ID VARCHAR2(256),
	ITEM_CORRELATION_ID VARCHAR2(256),
	LAST_COMMENT_ID VARCHAR2(256),
	PREV_COMMENT_ID VARCHAR2(256),
	ITEM_AUTHOR_UUID VARCHAR2(256),
	ITEM_CORRELATION_AUTHOR_UUID VARCHAR2(256)
);
COMMIT;

ALTER TABLE HOMEPAGE.NR_STORIES MODIFY (
	ITEM_ID VARCHAR2(256),
	ITEM_CORRELATION_ID VARCHAR2(256),
	ITEM_AUTHOR_UUID VARCHAR2(256),
	ITEM_CORRELATION_AUTHOR_UUID VARCHAR2(256),
	ACTOR_UUID VARCHAR2(256)
);
COMMIT;


DROP INDEX HOMEPAGE.AGGREGATED_READERS_ITM_IX; 
DROP INDEX HOMEPAGE.AGGREGATED_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.AGGREGATED_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.AGGREGATED_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.AGGREGATED_READERS_ROLLUP_IX; 
COMMIT; 

ALTER TABLE HOMEPAGE.NR_AGGREGATED_READERS MODIFY ( 
	ITEM_ID VARCHAR2(256), 
	ROLLUP_ENTRY_ID VARCHAR2(256), 
	ORGANIZATION_ID VARCHAR2(256), 
	ROLLUP_AUTHOR_ID VARCHAR2(256), 
	ACTOR_UUID VARCHAR2(256) 
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.AGGREGATED_READERS_ITM_IX 
 	ON HOMEPAGE.NR_AGGREGATED_READERS (ITEM_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.AGGREGATED_READERS_SRC_IX 
 	ON HOMEPAGE.NR_AGGREGATED_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.AGGREGATED_READERS_AUT_IX 
 	ON HOMEPAGE.NR_AGGREGATED_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.AGGREGATED_READERS_RLL_IX 
 	ON HOMEPAGE.NR_AGGREGATED_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.AGGREGATED_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_AGGREGATED_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 



DROP INDEX HOMEPAGE.RESPONSES_READERS_ITM_IX; 
DROP INDEX HOMEPAGE.RESPONSES_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.RESPONSES_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.RESPONSES_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.RESPONSES_READERS_ROLLUP_IX; 
COMMIT; 

ALTER TABLE HOMEPAGE.NR_RESPONSES_READERS MODIFY ( 
	ITEM_ID VARCHAR2(256), 
	ROLLUP_ENTRY_ID VARCHAR2(256), 
	ORGANIZATION_ID VARCHAR2(256), 
	ROLLUP_AUTHOR_ID VARCHAR2(256), 
	ACTOR_UUID VARCHAR2(256) 
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.RESPONSES_READERS_ITM_IX 
 	ON HOMEPAGE.NR_RESPONSES_READERS (ITEM_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.RESPONSES_READERS_SRC_IX 
 	ON HOMEPAGE.NR_RESPONSES_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.RESPONSES_READERS_AUT_IX 
 	ON HOMEPAGE.NR_RESPONSES_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.RESPONSES_READERS_RLL_IX 
 	ON HOMEPAGE.NR_RESPONSES_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.RESPONSES_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_RESPONSES_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 



DROP INDEX HOMEPAGE.PROFILES_READERS_ITM_IX; 
DROP INDEX HOMEPAGE.PROFILES_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.PROFILES_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.PROFILES_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.PROFILES_READERS_ROLLUP_IX; 
COMMIT; 

ALTER TABLE HOMEPAGE.NR_PROFILES_READERS MODIFY ( 
 ITEM_ID VARCHAR2(256), 
	ROLLUP_ENTRY_ID VARCHAR2(256), 
	ORGANIZATION_ID VARCHAR2(256), 
	ROLLUP_AUTHOR_ID VARCHAR2(256), 
	ACTOR_UUID VARCHAR2(256) 
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.PROFILES_READERS_ITM_IX 
 	ON HOMEPAGE.NR_PROFILES_READERS (ITEM_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.PROFILES_READERS_SRC_IX 
 	ON HOMEPAGE.NR_PROFILES_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.PROFILES_READERS_AUT_IX 
 	ON HOMEPAGE.NR_PROFILES_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.PROFILES_READERS_RLL_IX 
 	ON HOMEPAGE.NR_PROFILES_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.PROFILES_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_PROFILES_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 



DROP INDEX HOMEPAGE.COMM_READERS_ITM_IX; 
DROP INDEX HOMEPAGE.COMM_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.COMM_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.COMM_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.COMM_READERS_ROLLUP_IX; 
COMMIT; 

ALTER TABLE HOMEPAGE.NR_COMMUNITIES_READERS MODIFY ( 
 ITEM_ID VARCHAR2(256), 
	ROLLUP_ENTRY_ID VARCHAR2(256), 
	ORGANIZATION_ID VARCHAR2(256), 
	ROLLUP_AUTHOR_ID VARCHAR2(256), 
	ACTOR_UUID VARCHAR2(256) 
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.COMM_READERS_ITM_IX 
 	ON HOMEPAGE.NR_COMMUNITIES_READERS (ITEM_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.COMM_READERS_SRC_IX 
 	ON HOMEPAGE.NR_COMMUNITIES_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.COMM_READERS_AUT_IX 
 	ON HOMEPAGE.NR_COMMUNITIES_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.COMM_READERS_RLL_IX 
 	ON HOMEPAGE.NR_COMMUNITIES_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.COMM_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_COMMUNITIES_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 



DROP INDEX HOMEPAGE.ACTIVITIES_READERS_ITM_IX; 
DROP INDEX HOMEPAGE.ACTIVITIES_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.ACTIVITIES_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.ACTIVITIES_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.ACTIVITIES_READERS_ROLLUP_IX; 
COMMIT; 

ALTER TABLE HOMEPAGE.NR_ACTIVITIES_READERS MODIFY ( 
 ITEM_ID VARCHAR2(256), 
	ROLLUP_ENTRY_ID VARCHAR2(256), 
	ORGANIZATION_ID VARCHAR2(256), 
	ROLLUP_AUTHOR_ID VARCHAR2(256), 
	ACTOR_UUID VARCHAR2(256) 
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.ACTIVITIES_READERS_ITM_IX 
 	ON HOMEPAGE.NR_ACTIVITIES_READERS (ITEM_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.ACTIVITIES_READERS_SRC_IX 
 	ON HOMEPAGE.NR_ACTIVITIES_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.ACTIVITIES_READERS_AUT_IX 
 	ON HOMEPAGE.NR_ACTIVITIES_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.ACTIVITIES_READERS_RLL_IX 
 	ON HOMEPAGE.NR_ACTIVITIES_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.ACTIVITIES_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_ACTIVITIES_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 



DROP INDEX HOMEPAGE.BLOGS_READERS_ITM_IX; 
DROP INDEX HOMEPAGE.BLOGS_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.BLOGS_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.BLOGS_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.BLOGS_READERS_ROLLUP_IX; 
COMMIT; 

ALTER TABLE HOMEPAGE.NR_BLOGS_READERS MODIFY ( 
 ITEM_ID VARCHAR2(256), 
	ROLLUP_ENTRY_ID VARCHAR2(256), 
	ORGANIZATION_ID VARCHAR2(256), 
	ROLLUP_AUTHOR_ID VARCHAR2(256), 
	ACTOR_UUID VARCHAR2(256) 
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.BLOGS_READERS_ITM_IX 
 	ON HOMEPAGE.NR_BLOGS_READERS (ITEM_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.BLOGS_READERS_SRC_IX 
 	ON HOMEPAGE.NR_BLOGS_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.BLOGS_READERS_AUT_IX 
 	ON HOMEPAGE.NR_BLOGS_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.BLOGS_READERS_RLL_IX 
 	ON HOMEPAGE.NR_BLOGS_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.BLOGS_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_BLOGS_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 



DROP INDEX HOMEPAGE.BOOKMARKS_READERS_ITM_IX; 
DROP INDEX HOMEPAGE.BOOKMARKS_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.BOOKMARKS_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.BOOKMARKS_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.BOOKMARKS_READERS_ROLLUP_IX; 
COMMIT; 

ALTER TABLE HOMEPAGE.NR_BOOKMARKS_READERS MODIFY ( 
 ITEM_ID VARCHAR2(256), 
	ROLLUP_ENTRY_ID VARCHAR2(256), 
	ORGANIZATION_ID VARCHAR2(256), 
	ROLLUP_AUTHOR_ID VARCHAR2(256), 
	ACTOR_UUID VARCHAR2(256) 
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.BOOKMARKS_READERS_ITM_IX 
 	ON HOMEPAGE.NR_BOOKMARKS_READERS (ITEM_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.BOOKMARKS_READERS_SRC_IX 
 	ON HOMEPAGE.NR_BOOKMARKS_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.BOOKMARKS_READERS_AUT_IX 
 	ON HOMEPAGE.NR_BOOKMARKS_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.BOOKMARKS_READERS_RLL_IX 
 	ON HOMEPAGE.NR_BOOKMARKS_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.BOOKMARKS_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_BOOKMARKS_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 



DROP INDEX HOMEPAGE.FILES_READERS_ITM_IX; 
DROP INDEX HOMEPAGE.FILES_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.FILES_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.FILES_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.FILES_READERS_ROLLUP_IX; 
COMMIT; 

ALTER TABLE HOMEPAGE.NR_FILES_READERS MODIFY ( 
 ITEM_ID VARCHAR2(256), 
	ROLLUP_ENTRY_ID VARCHAR2(256), 
	ORGANIZATION_ID VARCHAR2(256), 
	ROLLUP_AUTHOR_ID VARCHAR2(256), 
	ACTOR_UUID VARCHAR2(256) 
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.FILES_READERS_ITM_IX 
 	ON HOMEPAGE.NR_FILES_READERS (ITEM_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.FILES_READERS_SRC_IX 
 	ON HOMEPAGE.NR_FILES_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.FILES_READERS_AUT_IX 
 	ON HOMEPAGE.NR_FILES_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.FILES_READERS_RLL_IX 
 	ON HOMEPAGE.NR_FILES_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.FILES_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_FILES_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 



DROP INDEX HOMEPAGE.FORUMS_READERS_ITM_IX; 
DROP INDEX HOMEPAGE.FORUMS_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.FORUMS_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.FORUMS_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.FORUMS_READERS_ROLLUP_IX; 
COMMIT; 

ALTER TABLE HOMEPAGE.NR_FORUMS_READERS MODIFY ( 
 ITEM_ID VARCHAR2(256), 
	ROLLUP_ENTRY_ID VARCHAR2(256), 
	ORGANIZATION_ID VARCHAR2(256), 
	ROLLUP_AUTHOR_ID VARCHAR2(256), 
	ACTOR_UUID VARCHAR2(256) 
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.FORUMS_READERS_ITM_IX 
 	ON HOMEPAGE.NR_FORUMS_READERS (ITEM_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.FORUMS_READERS_SRC_IX 
 	ON HOMEPAGE.NR_FORUMS_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.FORUMS_READERS_AUT_IX 
 	ON HOMEPAGE.NR_FORUMS_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.FORUMS_READERS_RLL_IX 
 	ON HOMEPAGE.NR_FORUMS_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.FORUMS_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_FORUMS_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 



DROP INDEX HOMEPAGE.WIKIS_READERS_ITM_IX; 
DROP INDEX HOMEPAGE.WIKIS_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.WIKIS_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.WIKIS_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.WIKIS_READERS_ROLLUP_IX; 
COMMIT; 

ALTER TABLE HOMEPAGE.NR_WIKIS_READERS MODIFY ( 
 ITEM_ID VARCHAR2(256), 
	ROLLUP_ENTRY_ID VARCHAR2(256), 
	ORGANIZATION_ID VARCHAR2(256), 
	ROLLUP_AUTHOR_ID VARCHAR2(256), 
	ACTOR_UUID VARCHAR2(256) 
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.WIKIS_READERS_ITM_IX 
 	ON HOMEPAGE.NR_WIKIS_READERS (ITEM_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.WIKIS_READERS_SRC_IX 
 	ON HOMEPAGE.NR_WIKIS_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.WIKIS_READERS_AUT_IX 
 	ON HOMEPAGE.NR_WIKIS_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.WIKIS_READERS_RLL_IX 
 	ON HOMEPAGE.NR_WIKIS_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.WIKIS_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_WIKIS_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 



DROP INDEX HOMEPAGE.TAGS_READERS_ITM_IX; 
DROP INDEX HOMEPAGE.TAGS_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.TAGS_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.TAGS_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.TAGS_READERS_ROLLUP_IX; 
COMMIT; 

ALTER TABLE HOMEPAGE.NR_TAGS_READERS MODIFY ( 
 ITEM_ID VARCHAR2(256), 
	ROLLUP_ENTRY_ID VARCHAR2(256), 
	ORGANIZATION_ID VARCHAR2(256), 
	ROLLUP_AUTHOR_ID VARCHAR2(256), 
	ACTOR_UUID VARCHAR2(256) 
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.TAGS_READERS_ITM_IX 
 	ON HOMEPAGE.NR_TAGS_READERS (ITEM_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.TAGS_READERS_SRC_IX 
 	ON HOMEPAGE.NR_TAGS_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.TAGS_READERS_AUT_IX 
 	ON HOMEPAGE.NR_TAGS_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.TAGS_READERS_RLL_IX 
 	ON HOMEPAGE.NR_TAGS_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.TAGS_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_TAGS_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 



DROP INDEX HOMEPAGE.STATUS_READERS_ITM_IX; 
DROP INDEX HOMEPAGE.STATUS_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.STATUS_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.STATUS_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.STATUS_READERS_ROLLUP_IX; 
COMMIT; 

ALTER TABLE HOMEPAGE.NR_STATUS_UPDATE_READERS MODIFY ( 
 ITEM_ID VARCHAR2(256), 
	ROLLUP_ENTRY_ID VARCHAR2(256), 
	ORGANIZATION_ID VARCHAR2(256), 
	ROLLUP_AUTHOR_ID VARCHAR2(256), 
	ACTOR_UUID VARCHAR2(256) 
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.STATUS_READERS_ITM_IX 
 	ON HOMEPAGE.NR_STATUS_UPDATE_READERS (ITEM_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.STATUS_READERS_SRC_IX 
 	ON HOMEPAGE.NR_STATUS_UPDATE_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.STATUS_READERS_AUT_IX 
 	ON HOMEPAGE.NR_STATUS_UPDATE_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.STATUS_READERS_RLL_IX 
 	ON HOMEPAGE.NR_STATUS_UPDATE_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.STATUS_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_STATUS_UPDATE_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 



DROP INDEX HOMEPAGE.EXTERNAL_READERS_ITM_IX; 
DROP INDEX HOMEPAGE.EXTERNAL_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.EXTERNAL_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.EXTERNAL_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.EXTERNAL_READERS_ROLLUP_IX; 
COMMIT; 

ALTER TABLE HOMEPAGE.NR_EXTERNAL_READERS MODIFY ( 
 ITEM_ID VARCHAR2(256), 
	ROLLUP_ENTRY_ID VARCHAR2(256), 
	ORGANIZATION_ID VARCHAR2(256), 
	ROLLUP_AUTHOR_ID VARCHAR2(256), 
	ACTOR_UUID VARCHAR2(256) 
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.EXTERNAL_READERS_ITM_IX 
 	ON HOMEPAGE.NR_EXTERNAL_READERS (ITEM_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.EXTERNAL_READERS_SRC_IX 
 	ON HOMEPAGE.NR_EXTERNAL_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.EXTERNAL_READERS_AUT_IX 
 	ON HOMEPAGE.NR_EXTERNAL_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.EXTERNAL_READERS_RLL_IX 
 	ON HOMEPAGE.NR_EXTERNAL_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.EXTERNAL_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_EXTERNAL_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 



DROP INDEX HOMEPAGE.ACTIONABLE_READERS_ITM_IX; 
DROP INDEX HOMEPAGE.ACTIONABLE_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.ACTIONABLE_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.ACTIONABLE_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.ACTIONABLE_READERS_ROLLUP_IX; 
COMMIT; 

ALTER TABLE HOMEPAGE.NR_ACTIONABLE_READERS MODIFY ( 
 ITEM_ID VARCHAR2(256), 
	ROLLUP_ENTRY_ID VARCHAR2(256), 
	ORGANIZATION_ID VARCHAR2(256), 
	ROLLUP_AUTHOR_ID VARCHAR2(256), 
	ACTOR_UUID VARCHAR2(256) 
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.ACTIONABLE_READERS_ITM_IX 
 	ON HOMEPAGE.NR_ACTIONABLE_READERS (ITEM_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.ACTIONABLE_READERS_SRC_IX 
 	ON HOMEPAGE.NR_ACTIONABLE_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.ACTIONABLE_READERS_AUT_IX 
 	ON HOMEPAGE.NR_ACTIONABLE_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.ACTIONABLE_READERS_RLL_IX 
 	ON HOMEPAGE.NR_ACTIONABLE_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.ACTIONABLE_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_ACTIONABLE_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 



DROP INDEX HOMEPAGE.DISCOVERY_VIEW_ITM_IX; 
DROP INDEX HOMEPAGE.DISCOVERY_VIEW_SRC_IX; 
DROP INDEX HOMEPAGE.DISCOVERY_VIEW_AUT_IX; 
DROP INDEX HOMEPAGE.DISCOVERY_VIEW_RLL_IX; 
DROP INDEX HOMEPAGE.DISCOVERY_VIEW_ROLLUP_IX; 
COMMIT; 

ALTER TABLE HOMEPAGE.NR_DISCOVERY_VIEW MODIFY ( 
 ITEM_ID VARCHAR2(256), 
	ROLLUP_ENTRY_ID VARCHAR2(256), 
	ORGANIZATION_ID VARCHAR2(256), 
	ROLLUP_AUTHOR_ID VARCHAR2(256), 
	ACTOR_UUID VARCHAR2(256) 
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.DISCOVERY_VIEW_ITM_IX 
 	ON HOMEPAGE.NR_DISCOVERY_VIEW (ITEM_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.DISCOVERY_VIEW_SRC_IX 
 	ON HOMEPAGE.NR_DISCOVERY_VIEW (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.DISCOVERY_VIEW_AUT_IX 
 	ON HOMEPAGE.NR_DISCOVERY_VIEW (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.DISCOVERY_VIEW_RLL_IX 
 	ON HOMEPAGE.NR_DISCOVERY_VIEW (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.DISCOVERY_VIEW_ROLLUP_IX 
 	ON HOMEPAGE.NR_DISCOVERY_VIEW (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 



DROP INDEX HOMEPAGE.PROFILES_VIEW_ITM_IX; 
DROP INDEX HOMEPAGE.PROFILES_VIEW_SRC_IX; 
DROP INDEX HOMEPAGE.PROFILES_VIEW_AUT_IX; 
DROP INDEX HOMEPAGE.PROFILES_VIEW_RLL_IX; 
DROP INDEX HOMEPAGE.PROFILES_VIEW_ROLLUP_IX; 
COMMIT; 

ALTER TABLE HOMEPAGE.NR_PROFILES_VIEW MODIFY ( 
 ITEM_ID VARCHAR2(256), 
	ROLLUP_ENTRY_ID VARCHAR2(256), 
	ORGANIZATION_ID VARCHAR2(256), 
	ROLLUP_AUTHOR_ID VARCHAR2(256), 
	ACTOR_UUID VARCHAR2(256) 
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.PROFILES_VIEW_ITM_IX 
 	ON HOMEPAGE.NR_PROFILES_VIEW (ITEM_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.PROFILES_VIEW_SRC_IX 
 	ON HOMEPAGE.NR_PROFILES_VIEW (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.PROFILES_VIEW_AUT_IX 
 	ON HOMEPAGE.NR_PROFILES_VIEW (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.PROFILES_VIEW_RLL_IX 
 	ON HOMEPAGE.NR_PROFILES_VIEW (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.PROFILES_VIEW_ROLLUP_IX 
 	ON HOMEPAGE.NR_PROFILES_VIEW (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 



DROP INDEX HOMEPAGE.NOTIFICA_READERS_ITM_IX; 
DROP INDEX HOMEPAGE.NOTIFICA_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.NOTIFICA_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.NOTIFICA_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.NOTIFICA_READERS_ROLLUP_IX; 
COMMIT; 

ALTER TABLE HOMEPAGE.NR_NOTIFICATION_SENT_READERS MODIFY ( 
 ITEM_ID VARCHAR2(256), 
	ROLLUP_ENTRY_ID VARCHAR2(256), 
	ORGANIZATION_ID VARCHAR2(256), 
	ROLLUP_AUTHOR_ID VARCHAR2(256), 
	ACTOR_UUID VARCHAR2(256) 
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.NOTIFICA_READERS_ITM_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_SENT_READERS (ITEM_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.NOTIFICA_READERS_SRC_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_SENT_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.NOTIFICA_READERS_AUT_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_SENT_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.NOTIFICA_READERS_RLL_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_SENT_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.NOTIFICA_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_SENT_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 



DROP INDEX HOMEPAGE.NOT_REC_READERS_ITM_IX; 
DROP INDEX HOMEPAGE.NOT_REC_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.NOT_REC_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.NOT_REC_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.NOT_REC_READERS_ROLLUP_IX; 
COMMIT; 

ALTER TABLE HOMEPAGE.NR_NOTIFICATION_RECEIV_READERS MODIFY ( 
 ITEM_ID VARCHAR2(256), 
	ROLLUP_ENTRY_ID VARCHAR2(256), 
	ORGANIZATION_ID VARCHAR2(256), 
	ROLLUP_AUTHOR_ID VARCHAR2(256), 
	ACTOR_UUID VARCHAR2(256) 
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.NOT_REC_READERS_ITM_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_RECEIV_READERS (ITEM_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.NOT_REC_READERS_SRC_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_RECEIV_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.NOT_REC_READERS_AUT_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_RECEIV_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.NOT_REC_READERS_RLL_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_RECEIV_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.NOT_REC_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_NOTIFICATION_RECEIV_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 



DROP INDEX HOMEPAGE.SAVED_READERS_ITM_IX; 
DROP INDEX HOMEPAGE.SAVED_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.SAVED_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.SAVED_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.SAVED_READERS_ROLLUP_IX; 
COMMIT; 

ALTER TABLE HOMEPAGE.NR_SAVED_READERS MODIFY ( 
 ITEM_ID VARCHAR2(256), 
	ROLLUP_ENTRY_ID VARCHAR2(256), 
	ORGANIZATION_ID VARCHAR2(256), 
	ROLLUP_AUTHOR_ID VARCHAR2(256), 
	ACTOR_UUID VARCHAR2(256) 
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.SAVED_READERS_ITM_IX 
 	ON HOMEPAGE.NR_SAVED_READERS (ITEM_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.SAVED_READERS_SRC_IX 
 	ON HOMEPAGE.NR_SAVED_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.SAVED_READERS_AUT_IX 
 	ON HOMEPAGE.NR_SAVED_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.SAVED_READERS_RLL_IX 
 	ON HOMEPAGE.NR_SAVED_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.SAVED_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_SAVED_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 



DROP INDEX HOMEPAGE.TOPICS_READERS_ITM_IX; 
DROP INDEX HOMEPAGE.TOPICS_READERS_SRC_IX; 
DROP INDEX HOMEPAGE.TOPICS_READERS_AUT_IX; 
DROP INDEX HOMEPAGE.TOPICS_READERS_RLL_IX; 
DROP INDEX HOMEPAGE.TOPICS_READERS_ROLLUP_IX; 
COMMIT; 

ALTER TABLE HOMEPAGE.NR_TOPICS_READERS MODIFY ( 
 ITEM_ID VARCHAR2(256), 
	ROLLUP_ENTRY_ID VARCHAR2(256), 
	ORGANIZATION_ID VARCHAR2(256), 
	ROLLUP_AUTHOR_ID VARCHAR2(256), 
	ACTOR_UUID VARCHAR2(256) 
); 
COMMIT; 

CREATE  INDEX HOMEPAGE.TOPICS_READERS_ITM_IX 
 	ON HOMEPAGE.NR_TOPICS_READERS (ITEM_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.TOPICS_READERS_SRC_IX 
 	ON HOMEPAGE.NR_TOPICS_READERS (READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.TOPICS_READERS_AUT_IX 
 	ON HOMEPAGE.NR_TOPICS_READERS (READER_ID, CREATION_DATE DESC, ROLLUP_AUTHOR_ID, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 
CREATE  INDEX HOMEPAGE.TOPICS_READERS_RLL_IX 
 	ON HOMEPAGE.NR_TOPICS_READERS (USE_IN_ROLLUP, READER_ID, CREATION_DATE DESC, STORY_ID, IS_BROADCAST, ROLLUP_ENTRY_ID, SOURCE_TYPE, IS_VISIBLE) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT;
CREATE  INDEX HOMEPAGE.TOPICS_READERS_ROLLUP_IX 
 	ON HOMEPAGE.NR_TOPICS_READERS (ROLLUP_ENTRY_ID, READER_ID) TABLESPACE NEWSINDEXTABSPACE; 
COMMIT; 

---------------------------------------------------------------------------------
-- READER TABLES: MAKE INDEX ON READER_ID,STORY_ID CLUSTER
---------------------------------------------------------------------------------

DROP CLUSTER HOMEPAGE.NR_AGGREGATED_READERS; 
DROP INDEX HOMEPAGE.AGGREGATED_READERS_RDR_STR; 
COMMIT; 

CREATE  CLUSTER HOMEPAGE.NR_AGGREGATED_READERS (READER_ID VARCHAR2(36), STORY_ID VARCHAR2(36)) INDEX TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 

CREATE INDEX 
 	 HOMEPAGE.NR_AGGREGATED_READERS_RDR_IX ON HOMEPAGE.NR_AGGREGATED_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_RESPSES_READERS; 
DROP INDEX HOMEPAGE.RESPONSES_READERS_RDR_STR; 
COMMIT; 

CREATE  CLUSTER HOMEPAGE.NR_RESPONSES_READERS (READER_ID VARCHAR2(36), STORY_ID VARCHAR2(36)) INDEX TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 

CREATE INDEX 
 	 HOMEPAGE.NR_RESPONSES_READERS_RDR_IX ON HOMEPAGE.NR_RESPONSES_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_PROFILES_READERS; 
DROP INDEX HOMEPAGE.PROFILES_READERS_RDR_STR; 
COMMIT; 

CREATE  CLUSTER HOMEPAGE.NR_PROFILES_READERS (READER_ID VARCHAR2(36), STORY_ID VARCHAR2(36)) INDEX TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 

CREATE INDEX 
 	 HOMEPAGE.NR_PROFILES_READERS_RDR_IX ON HOMEPAGE.NR_PROFILES_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_COMMUNITIES_READERS; 
DROP INDEX HOMEPAGE.COMM_READERS_RDR_STR; 
COMMIT; 

CREATE  CLUSTER HOMEPAGE.NR_COMMUNITIES_READERS (READER_ID VARCHAR2(36), STORY_ID VARCHAR2(36)) INDEX TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 

CREATE INDEX 
 	 HOMEPAGE.NR_COMM_READERS_RDR_IX ON HOMEPAGE.NR_COMMUNITIES_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_ACTIVITIES_READERS; 
DROP INDEX HOMEPAGE.ACTIVITIES_READERS_RDR_STR; 
COMMIT; 

CREATE  CLUSTER HOMEPAGE.NR_ACTIVITIES_READERS (READER_ID VARCHAR2(36), STORY_ID VARCHAR2(36)) INDEX TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 

CREATE INDEX 
 	 HOMEPAGE.NR_ACTIVITIES_READERS_RDR_IX ON HOMEPAGE.NR_ACTIVITIES_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_BLOGS_READERS; 
DROP INDEX HOMEPAGE.BLOGS_READERS_RDR_STR; 
COMMIT; 

CREATE  CLUSTER HOMEPAGE.NR_BLOGS_READERS (READER_ID VARCHAR2(36), STORY_ID VARCHAR2(36)) INDEX TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 

CREATE INDEX 
 	 HOMEPAGE.NR_BLOGS_READERS_RDR_IX ON HOMEPAGE.NR_BLOGS_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_BOOKMARKS_READERS; 
DROP INDEX HOMEPAGE.BOOKMARKS_READERS_RDR_STR; 
COMMIT; 

CREATE  CLUSTER HOMEPAGE.NR_BOOKMARKS_READERS (READER_ID VARCHAR2(36), STORY_ID VARCHAR2(36)) INDEX TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 

CREATE INDEX 
 	 HOMEPAGE.NR_BOOKMARKS_READERS_RDR_IX ON HOMEPAGE.NR_BOOKMARKS_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_FILES_READERS; 
DROP INDEX HOMEPAGE.FILES_READERS_RDR_STR; 
COMMIT; 

CREATE  CLUSTER HOMEPAGE.NR_FILES_READERS (READER_ID VARCHAR2(36), STORY_ID VARCHAR2(36)) INDEX TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 

CREATE INDEX 
 	 HOMEPAGE.NR_FILES_READERS_RDR_IX ON HOMEPAGE.NR_FILES_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_FORUMS_READERS; 
DROP INDEX HOMEPAGE.FORUMS_READERS_RDR_STR; 
COMMIT; 

CREATE  CLUSTER HOMEPAGE.NR_FORUMS_READERS (READER_ID VARCHAR2(36), STORY_ID VARCHAR2(36)) INDEX TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 

CREATE INDEX 
 	 HOMEPAGE.NR_FORUMS_READERS_RDR_IX ON HOMEPAGE.NR_FORUMS_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_WIKIS_READERS; 
DROP INDEX HOMEPAGE.WIKIS_READERS_RDR_STR; 
COMMIT; 

CREATE  CLUSTER HOMEPAGE.NR_WIKIS_READERS (READER_ID VARCHAR2(36), STORY_ID VARCHAR2(36)) INDEX TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 

CREATE INDEX 
 	 HOMEPAGE.NR_WIKIS_READERS_RDR_IX ON HOMEPAGE.NR_WIKIS_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_TAGS_READERS; 
DROP INDEX HOMEPAGE.TAGS_READERS_RDR_STR; 
COMMIT; 

CREATE  CLUSTER HOMEPAGE.NR_TAGS_READERS (READER_ID VARCHAR2(36), STORY_ID VARCHAR2(36)) INDEX TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 

CREATE INDEX 
 	 HOMEPAGE.NR_TAGS_READERS_RDR_IX ON HOMEPAGE.NR_TAGS_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_STATUS_UPDATE_READERS; 
DROP INDEX HOMEPAGE.STATUS_READERS_RDR_STR; 
COMMIT; 

CREATE  CLUSTER HOMEPAGE.NR_STATUS_UPDATE_READERS (READER_ID VARCHAR2(36), STORY_ID VARCHAR2(36)) INDEX TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 

CREATE INDEX 
 	 HOMEPAGE.NR_STATUS_READERS_RDR_IX ON HOMEPAGE.NR_STATUS_UPDATE_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_EXTERNAL_READERS; 
DROP INDEX HOMEPAGE.EXTERNAL_READERS_RDR_STR; 
COMMIT; 

CREATE  CLUSTER HOMEPAGE.NR_EXTERNAL_READERS (READER_ID VARCHAR2(36), STORY_ID VARCHAR2(36)) INDEX TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 

CREATE INDEX 
 	 HOMEPAGE.NR_EXTERNAL_READERS_RDR_IX ON HOMEPAGE.NR_EXTERNAL_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_ACTIABLE_READERS; 
DROP INDEX HOMEPAGE.ACTIONABLE_READERS_RDR_STR; 
COMMIT; 

CREATE  CLUSTER HOMEPAGE.NR_ACTIONABLE_READERS (READER_ID VARCHAR2(36), STORY_ID VARCHAR2(36)) INDEX TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 

CREATE INDEX 
 	 HOMEPAGE.NR_ACTIONABLE_READERS_RDR_IX ON HOMEPAGE.NR_ACTIONABLE_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_DISCOVERY_VIEW; 
DROP INDEX HOMEPAGE.DISCOVERY_VIEW_RDR_STR; 
COMMIT; 

CREATE  CLUSTER HOMEPAGE.NR_DISCOVERY_VIEW (READER_ID VARCHAR2(36), STORY_ID VARCHAR2(36)) INDEX TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 

CREATE INDEX 
 	 HOMEPAGE.NR_DISCOVERY_VIEW_RDR_IX ON HOMEPAGE.NR_DISCOVERY_VIEW (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_PROFILES_VIEW; 
DROP INDEX HOMEPAGE.PROFILES_VIEW_RDR_STR; 
COMMIT; 

CREATE  CLUSTER HOMEPAGE.NR_PROFILES_VIEW (READER_ID VARCHAR2(36), STORY_ID VARCHAR2(36)) INDEX TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 

CREATE INDEX 
 	 HOMEPAGE.NR_PROFILES_VIEW_RDR_IX ON HOMEPAGE.NR_PROFILES_VIEW (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_NOTIFICATI_SENT_READERS; 
DROP INDEX HOMEPAGE.NOTIFICA_READERS_RDR_STR; 
COMMIT; 

CREATE  CLUSTER HOMEPAGE.NR_NOTIFICATION_SENT_READERS (READER_ID VARCHAR2(36), STORY_ID VARCHAR2(36)) INDEX TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 

CREATE INDEX 
 	 HOMEPAGE.NR_NOTIFICA_READERS_RDR_IX ON HOMEPAGE.NR_NOTIFICATION_SENT_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_NOTIFICATI_RECEIV_READERS; 
DROP INDEX HOMEPAGE.NOT_REC_READERS_RDR_STR; 
COMMIT; 

CREATE  CLUSTER HOMEPAGE.NR_NOTIFICATI_RECEIV_READERS (READER_ID VARCHAR2(36), STORY_ID VARCHAR2(36)) INDEX TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 

CREATE INDEX 
 	 HOMEPAGE.NR_NOT_REC_READERS_RDR_IX ON HOMEPAGE.NR_NOTIFICATION_RECEIV_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_SAVED_READERS; 
DROP INDEX HOMEPAGE.SAVED_READERS_RDR_STR; 
COMMIT; 

CREATE  CLUSTER HOMEPAGE.NR_SAVED_READERS (READER_ID VARCHAR2(36), STORY_ID VARCHAR2(36)) INDEX TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 

CREATE INDEX 
 	 HOMEPAGE.NR_SAVED_READERS_RDR_IX ON HOMEPAGE.NR_SAVED_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 



DROP CLUSTER HOMEPAGE.NR_TOPICS_READERS; 
DROP INDEX HOMEPAGE.TOPICS_READERS_RDR_STR; 
COMMIT; 

CREATE  CLUSTER HOMEPAGE.NR_TOPICS_READERS (READER_ID VARCHAR2(36), STORY_ID VARCHAR2(36)) INDEX TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 

CREATE INDEX 
 	 HOMEPAGE.NR_TOPICS_READERS_RDR_IX ON HOMEPAGE.NR_TOPICS_READERS (READER_ID) TABLESPACE  NEWSINDEXTABSPACE; 
COMMIT; 


---------------------------------------------------------------------------------
-- READER TABLES: ADD NEW INDEX
---------------------------------------------------------------------------------

CREATE INDEX HOMEPAGE.NR_AGGREGATED_READERS_RIR_IX
 	ON HOMEPAGE.NR_AGGREGATED_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;

CREATE INDEX HOMEPAGE.NR_RESPONSES_READERS_RIR_IX
 	ON HOMEPAGE.NR_RESPONSES_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;

CREATE INDEX HOMEPAGE.NR_PROFILES_READERS_RIR_IX
 	ON HOMEPAGE.NR_PROFILES_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;

CREATE INDEX HOMEPAGE.NR_COMM_READERS_RIR_IX
 	ON HOMEPAGE.NR_COMMUNITIES_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;

CREATE INDEX HOMEPAGE.NR_ACTIVITIES_READERS_RIR_IX
 	ON HOMEPAGE.NR_ACTIVITIES_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;

CREATE INDEX HOMEPAGE.NR_BLOGS_READERS_RIR_IX
 	ON HOMEPAGE.NR_BLOGS_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;

CREATE INDEX HOMEPAGE.NR_BOOKMARKS_READERS_RIR_IX
 	ON HOMEPAGE.NR_BOOKMARKS_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;

CREATE INDEX HOMEPAGE.NR_FILES_READERS_RIR_IX
 	ON HOMEPAGE.NR_FILES_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;

CREATE INDEX HOMEPAGE.NR_FORUMS_READERS_RIR_IX
 	ON HOMEPAGE.NR_FORUMS_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;

CREATE INDEX HOMEPAGE.NR_WIKIS_READERS_RIR_IX
 	ON HOMEPAGE.NR_WIKIS_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;

CREATE INDEX HOMEPAGE.NR_TAGS_READERS_RIR_IX
 	ON HOMEPAGE.NR_TAGS_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;

CREATE INDEX HOMEPAGE.NR_STATUS_READERS_RIR_IX
 	ON HOMEPAGE.NR_STATUS_UPDATE_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;

CREATE INDEX HOMEPAGE.NR_EXTERNAL_READERS_RIR_IX
 	ON HOMEPAGE.NR_EXTERNAL_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;

CREATE INDEX HOMEPAGE.NR_ACTIONABLE_READERS_RIR_IX
 	ON HOMEPAGE.NR_ACTIONABLE_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;

CREATE INDEX HOMEPAGE.NR_DISCOVERY_VIEW_RIR_IX
 	ON HOMEPAGE.NR_DISCOVERY_VIEW (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;

CREATE INDEX HOMEPAGE.NR_PROFILES_VIEW_RIR_IX
 	ON HOMEPAGE.NR_PROFILES_VIEW (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;

CREATE INDEX HOMEPAGE.NR_NOTIFICA_READERS_RIR_IX
 	ON HOMEPAGE.NR_NOTIFICATION_SENT_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;

CREATE INDEX HOMEPAGE.NR_NOT_REC_READERS_RIR_IX
 	ON HOMEPAGE.NR_NOTIFICATION_RECEIV_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;

CREATE INDEX HOMEPAGE.NR_SAVED_READERS_RIR_IX
 	ON HOMEPAGE.NR_SAVED_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;

CREATE INDEX HOMEPAGE.NR_TOPICS_READERS_RIR_IX
 	ON HOMEPAGE.NR_TOPICS_READERS (READER_ID, IS_VISIBLE, ROLLUP_ENTRY_ID DESC, CREATION_DATE DESC) TABLESPACE  NEWSINDEXTABSPACE;
COMMIT;



---------------------------------------------------------------------------------
--Community Event Widget
---------------------------------------------------------------------------------

INSERT INTO HOMEPAGE.WIDGET
            (WIDGET_ID, WIDGET_TITLE, WIDGET_TEXT, WIDGET_URL, WIDGET_ICON, WIDGET_ENABLED, WIDGET_SYSTEM, WIDGET_HOMEPAGE_SPECIFIC, WIDGET_PREVIEW_IMAGE, WIDGET_CATEGORY, WIDGET_IS_DEFAULT_OPENED, WIDGET_MULTIPLE_INSTANCES, WIDGET_SECURE_URL, WIDGET_SECURE_ICON, IS_GADGET)
VALUES      ('commuevtxe7c4x4e08xab54x80e7a4eb8933', '%widget.communities.event.name', '%widget.communities.event.desc', '${COMMON_CONTEXT_ROOT}/web/lconn.calendar/CalendarGadget.xml', '${COMMON_CONTEXT_ROOT}/web/com.ibm.lconn.core.styles/images/iconCommunities16.png', 1, 1, 1, '${HOMEPAGE_CONTEXT_ROOT}/web/jsp/palette/images/profiles_my_colleagues.jpg', 'COMMUNITIES', 1,  0, '${COMMON_CONTEXT_ROOT}/web/lconn.calendar/CalendarGadget.xml', '${COMMON_CONTEXT_ROOT}/web/com.ibm.lconn.core.styles/images/iconCommunities16.png',1);

INSERT INTO HOMEPAGE.PREREQ
            (PREREQ_ID, APP_ID, WIDGET_ID)
VALUES      ('73de6654x9317x4195x90c0x696c1b6da4ff', 'communities', 'commuevtxe7c4x4e08xab54x80e7a4eb8933');

INSERT INTO HOMEPAGE.HP_WIDGET_TAB
        (WIDGET_TAB_ID, WIDGET_ID, TAB_ID, TYPE)
VALUES  ('UPDATES_communityevent-sidebar', 'commuevtxe7c4x4e08xab54x80e7a4eb8933', '_panel.updatex4a43x82aaxb00187218631', 'primary');


COMMIT;

-------------------------- fixing issue with is_prev is_last comment ------------------------

--  [start] NR_ENTRIES
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_PREV_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_PREV_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID < '0..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_LAST_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_LAST_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID < '0..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_PREV_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_PREV_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= '0..f' AND ENTRY_ID < '1..f'  ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_LAST_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_LAST_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= '0..f' AND ENTRY_ID < '1..f'  ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_PREV_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_PREV_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= '1..f' AND ENTRY_ID < '2..f'  ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_LAST_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_LAST_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= '1..f' AND ENTRY_ID < '2..f'  ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_PREV_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_PREV_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= '2..f' AND ENTRY_ID < '3..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_LAST_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_LAST_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= '2..f' AND ENTRY_ID < '3..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_PREV_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_PREV_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= '3..f' AND ENTRY_ID < '4..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_LAST_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_LAST_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= '3..f' AND ENTRY_ID < '4..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_PREV_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_PREV_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= '4..f' AND ENTRY_ID < '5..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_LAST_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_LAST_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= '4..f' AND ENTRY_ID < '5..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_PREV_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_PREV_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= '5..f' AND ENTRY_ID < '6..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_LAST_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_LAST_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= '5..f' AND ENTRY_ID < '6..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_PREV_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_PREV_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= '6..f' AND ENTRY_ID < '7..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_LAST_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_LAST_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= '6..f' AND ENTRY_ID < '7..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_PREV_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_PREV_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= '7..f' AND ENTRY_ID < '8..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_LAST_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_LAST_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= '7..f' AND ENTRY_ID < '8..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_PREV_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_PREV_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= '8..f' AND ENTRY_ID < '9..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_LAST_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_LAST_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= '8..f' AND ENTRY_ID < '9..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_PREV_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_PREV_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= '9..f' AND ENTRY_ID < 'a..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_LAST_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_LAST_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= '9..f' AND ENTRY_ID < 'a..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_PREV_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_PREV_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= 'a..f' AND ENTRY_ID < 'b..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_LAST_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_LAST_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= 'a..f' AND ENTRY_ID < 'b..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_PREV_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_PREV_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= 'b..f' AND ENTRY_ID < 'c..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_LAST_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_LAST_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= 'b..f' AND ENTRY_ID < 'c..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_PREV_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_PREV_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= 'c..f' AND ENTRY_ID < 'd..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_LAST_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_LAST_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= 'c..f' AND ENTRY_ID < 'd..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_PREV_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_PREV_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= 'd..f' AND ENTRY_ID < 'e..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_LAST_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_LAST_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= 'd..f' AND ENTRY_ID < 'e..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_PREV_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_PREV_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= 'e..f' AND ENTRY_ID < 'f..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_LAST_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_LAST_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= 'e..f' AND ENTRY_ID < 'f..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_PREV_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_PREV_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= 'f..f' ;
COMMIT;
UPDATE HOMEPAGE.NR_ENTRIES  
 	SET IS_LAST_COMMENT_VISIBLE = 1 	WHERE NOT ( IS_LAST_COMMENT_VISIBLE = 1 ) AND  ENTRY_ID >= 'f..f' ;
COMMIT;
--  [end] NR_ENTRIES


---------------------------------------------------------------------------------
------------------------ END NEWS FIXUP 101 -------------------------------------
---------------------------------------------------------------------------------
