-- ***************************************************************** 
--                                                                   
-- IBM Confidential                                                  
--                                                                   
-- OCO Source Materials                                              
--                                                                   
-- Copyright IBM Corp. 2007, 2015                                    
--                                                                   
-- The source code for this program is not published or otherwise    
-- divested of its trade secrets, irrespective of what has been      
-- deposited with the U.S. Copyright Office.                         
--                                                                   
-- ***************************************************************** 

-- {COPYRIGHT}

-- NEWS RECORDS 
ALTER TABLE HOMEPAGE.NR_SUBSCRIPTION DROP CONSTRAINT "FK_PERSON_ID";
ALTER TABLE HOMEPAGE.NR_SUBSCRIPTION DROP CONSTRAINT "FK_SOURCE_ID";
DROP INDEX  HOMEPAGE.NR_SUBSCRIPTION_IX_UNIQUE;
--DROP INDEX  HOMEPAGE.NR_SOURCE_IX_UNIQUE;

ALTER TABLE HOMEPAGE.NR_NEWS_COMMENT_CONTENT DROP CONSTRAINT "FK_C_COMMENT_ID";

ALTER TABLE HOMEPAGE.NR_RESOURCE DROP CONSTRAINT "FK_RES_RES_TYPE";
ALTER TABLE HOMEPAGE.NR_RESOURCE DROP CONSTRAINT "FK_RES_CAT_TYPE";
ALTER TABLE HOMEPAGE.NR_RESOURCE_TYPE DROP CONSTRAINT "RES_TYPE_UNIQUE";
ALTER TABLE HOMEPAGE.NR_FOLLOWS  DROP CONSTRAINT "FK_FS_PERSON_ID";
ALTER TABLE HOMEPAGE.NR_FOLLOWS DROP CONSTRAINT "FK_FS_RESOURCE_ID";
ALTER TABLE HOMEPAGE.NR_COMM_FOLLOW DROP CONSTRAINT "FK_COMM_PERSON_ID";
ALTER TABLE HOMEPAGE.NR_ORGPERSON_FOLLOW DROP CONSTRAINT "FK_ORGP_PERSON_ID";

ALTER TABLE HOMEPAGE.NR_COMM_STORIES DROP CONSTRAINT "FK_COMM_STORY_ID";
ALTER TABLE HOMEPAGE.NR_ORGPERSON_STORIES DROP CONSTRAINT "FK_ORGP_STORY_ID";
ALTER TABLE HOMEPAGE.NR_COMM_PERSON_FOLLOW DROP CONSTRAINT "FK_COMM_PER_PER_ID";
ALTER TABLE HOMEPAGE.NR_COMM_PERSON_STORIES DROP CONSTRAINT "FK_FCP_STORY_ID";

ALTER TABLE HOMEPAGE.NR_NETWORK DROP CONSTRAINT "FK_NTW_PERS_ID";
ALTER TABLE HOMEPAGE.NR_NETWORK DROP CONSTRAINT  "FK_NTW_COLL_ID";

ALTER TABLE HOMEPAGE.EMD_RESOURCE_PREF DROP CONSTRAINT "FK_RES_PERSON_ID"; 
ALTER TABLE HOMEPAGE.EMD_RESOURCE_PREF DROP CONSTRAINT "FK_RES_FRQ_TYPE";
ALTER TABLE HOMEPAGE.EMD_EMAIL_PREFS DROP CONSTRAINT "FK_EMD_PERSON_ID";
ALTER TABLE HOMEPAGE.EMD_FREQUENCY_TYPE DROP CONSTRAINT "FRQ_TYPE_UNIQUE";
ALTER TABLE HOMEPAGE.EMD_TRANCHE_INFO DROP CONSTRAINT "FK_TRANCHE_ID";

ALTER TABLE HOMEPAGE.NR_RESPONSES_STORIES DROP CONSTRAINT "FK_RESP_STORY_ID";
ALTER TABLE HOMEPAGE.NR_PROFILES_STORIES DROP CONSTRAINT "FK_PROF_STORY_ID";
ALTER TABLE HOMEPAGE.NR_COMMUNITIES_STORIES DROP CONSTRAINT "FK_COM_STORY_ID";
ALTER TABLE HOMEPAGE.NR_ACTIVITIES_STORIES DROP CONSTRAINT "FK_ACT_STORY_ID";
ALTER TABLE HOMEPAGE.NR_BLOGS_STORIES DROP CONSTRAINT "FK_BLOGS_STORY_ID";
ALTER TABLE HOMEPAGE.NR_BOOKMARKS_STORIES DROP CONSTRAINT "FK_BOOKS_STORY_ID";
ALTER TABLE HOMEPAGE.NR_FILES_STORIES DROP CONSTRAINT "FK_FILES_STORY_ID";
ALTER TABLE HOMEPAGE.NR_FORUMS_STORIES DROP CONSTRAINT "FK_FORUMS_STORY_ID";
ALTER TABLE HOMEPAGE.NR_WIKIS_STORIES DROP CONSTRAINT "FK_WIKIS_STORY_ID";
ALTER TABLE HOMEPAGE.NR_TAGS_STORIES DROP CONSTRAINT "FK_TAGS_STORY_ID";

-- New delete categories stories
DELETE FROM HOMEPAGE.NR_RESPONSES_STORIES;
DELETE FROM HOMEPAGE.NR_PROFILES_STORIES;
DELETE FROM HOMEPAGE.NR_COMMUNITIES_STORIES;
DELETE FROM HOMEPAGE.NR_ACTIVITIES_STORIES;
DELETE FROM HOMEPAGE.NR_BLOGS_STORIES;
DELETE FROM HOMEPAGE.NR_BOOKMARKS_STORIES;
DELETE FROM HOMEPAGE.NR_FILES_STORIES;
DELETE FROM HOMEPAGE.NR_FORUMS_STORIES;
DELETE FROM HOMEPAGE.NR_WIKIS_STORIES;
DELETE FROM HOMEPAGE.NR_TAGS_STORIES;

-- NEWS deletion
DELETE FROM HOMEPAGE.NR_NEWS_RECORDS;
DELETE FROM HOMEPAGE.NR_SUBSCRIPTION;
DELETE FROM HOMEPAGE.NR_SOURCE;
DELETE FROM HOMEPAGE.NR_TEMPLATE;

DELETE FROM HOMEPAGE.NR_CATEGORY_TYPE;
DELETE FROM HOMEPAGE.NR_NEWS_SAVED;
DELETE FROM HOMEPAGE.NR_NEWS_DISCOVERY;

DELETE FROM HOMEPAGE.NR_NEWS_COMMENT_CONTENT;
DELETE FROM HOMEPAGE.NR_NEWS_STATUS_CONTENT;
DELETE FROM HOMEPAGE.NR_NEWS_STATUS_COMMENT;
DELETE FROM HOMEPAGE.NR_NEWS_STATUS_NETWORK;

DELETE FROM HOMEPAGE.NR_COMM_PERSON_STORIES;
DELETE FROM HOMEPAGE.NR_COMM_PERSON_FOLLOW;
DELETE FROM HOMEPAGE.NR_NETWORK;
DELETE FROM HOMEPAGE.NR_STORIES_CONTENT;
DELETE FROM HOMEPAGE.NR_ORGPERSON_STORIES;
DELETE FROM HOMEPAGE.NR_COMM_STORIES;

DELETE FROM HOMEPAGE.NR_ORGPERSON_FOLLOW;
DELETE FROM HOMEPAGE.NR_COMM_FOLLOW;
DELETE FROM HOMEPAGE.NR_FOLLOWS;	
DELETE FROM HOMEPAGE.NR_RESOURCE;
DELETE FROM HOMEPAGE.NR_RESOURCE_TYPE;
DELETE FROM HOMEPAGE.NR_STORIES;

-- EMail Digest deletion
DELETE FROM HOMEPAGE.EMD_EMAIL_PREFS;
DELETE FROM HOMEPAGE.EMD_TRANCHE_INFO;
DELETE FROM HOMEPAGE.EMD_TRANCHE;
DELETE FROM HOMEPAGE.EMD_RESOURCE_PREF;
DELETE FROM HOMEPAGE.EMD_FREQUENCY_TYPE;

-- Delete notifications NT_NOTIFICATIONs
DELETE FROM HOMEPAGE.NT_NOTIFICATION_RECIPIENT;
DELETE FROM HOMEPAGE.NT_NOTIFICATION;

-- Delete content from news scheduler tables
DELETE FROM HOMEPAGE.NR_SCHEDULER_LMPR;
DELETE FROM HOMEPAGE.NR_SCHEDULER_LMGR;
DELETE FROM HOMEPAGE.NR_SCHEDULER_TREG;
DELETE FROM HOMEPAGE.NR_SCHEDULER_TASK;